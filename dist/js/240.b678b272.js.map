{"version":3,"file":"js/240.b678b272.js","mappings":"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","sources":["webpack://ebookstore/./src/views/front/ProductList.vue","webpack://ebookstore/./src/components/front/ListBanner.vue","webpack://ebookstore/./src/components/front/ListBanner.vue?b982","webpack://ebookstore/./src/views/front/ProductList.vue?bcd6"],"sourcesContent":["<template>\n  <LoadingView class=\"loading\" :active=\"isLoading\">\n    <div class=\"spinner-border text-primary m-5\" role=\"status\">\n    <span class=\"visually-hidden\">Loading...</span>\n    </div>\n  </LoadingView>\n  <ListBanner :title=\"title\" />\n  <!-- 洲別選單 -->\n  <section class=\"list-base section_category bg-light\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-lg-2 mb-3\">\n          <div class=\"list-group text-center\">\n            <button\n              type=\"button\"\n              class=\"list-group-item list-group-item-action fw-bolder py-3 fs-5\"\n              v-for=\"item in categories\" :key=\"item.category\"\n              @click=\"filterCategory(item.category)\"\n              :class=\"isActive === item.category ? 'active' : ''\"\n            >\n              {{ item.name  }}\n            </button>\n          </div>\n        </div>\n        <!-- product清單 -->\n          <div class=\"col-lg-10 section_products bg-light\">\n            <div class=\"row row-cols-1 row-cols-md-2 row-cols-lg-3\">\n              <div v-for=\"item of products\" :key=\"item.id\" class=\"col mb-4\">\n                <div class=\"card h-100 shadow-sm\" >\n                    <span class=\"badge badge-pill badge-secondaryLight\"> {{ item.category }}</span>\n                    <div class=\"img-wrap position-relative ps-0\" @click.prevent=\"getProducts(item.category)\">\n                      <router-link :to=\"`/product/${item.id}`\">\n                      <img :src=\"item.imageUrl\" class=\"card-img-top w-100\">\n                      </router-link>\n                      <span class=\"px-1 position-absolute top-0 end-0 mt-2 me-2\" style=\"cursor: pointer;\">\n                          <font-awesome-icon :icon=\"['fa', 'heart']\" class=\"fs-4 text-danger\"\n                            data-bs-toggle=\"tooltip\" data-bs-placement=\"buttom\"\n                            title=\"取消收藏\" v-if=\"favoriteId.includes(item.id)\"\n                            @click.prevent=\"toggleFavorite(item)\"/>\n                          <font-awesome-icon :icon=\"['far', 'heart']\" class=\"fs-4 text-danger\"\n                            data-bs-toggle=\"tooltip\" data-bs-placement=\"buttom\"\n                            title=\"加入收藏\" v-else\n                            @click.prevent=\"toggleFavorite(item)\"/>\n                      </span>\n                    </div>\n                    <div class=\"card-body\">\n                      <div class=\"card-text\">\n                        <h5 class=\"card-title\">\n                          {{ item.title }}\n                        </h5>\n                        <p class=\"card-content\" v-html=\"item.content\"></p>\n                      </div>\n                      <div>\n                        <p class=\"prices d-flex justify-content-between mb-auto \">\n                          <span class=\"text-decoration-line-through text-gray me-5\">NT$ {{ item.origin_price }}/人</span>\n                          <span class=\"fs-5 fw-bolder\">NT$ {{ item.price }}/人</span>\n                        </p>\n                      </div>\n                    </div>\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-secondary btn-addTocart\"\n                      @click.prevent.stop=\"addToCart(item)\"\n                    >\n                      <span>\n                        <i class=\"fas fa-shopping-cart\" />\n                      </span>\n                      加入購物車\n                    </button>\n                </div>\n              </div>\n            </div>\n        </div>\n     </div>\n    </div>\n  </section>\n  <div class=\"bg-light\" style=\"height: 40px\">\n  </div>\n</template>\n\n<script>\nimport favoriteMixin from '@/mixins/LocalFavorite'\nimport ListBanner from '@/components/front/ListBanner.vue'\nimport { mapState, mapActions } from 'pinia'\nimport cartStore from '@/stores/cartStore'\nimport statusStore from '@/stores/statusStore'\n\nexport default {\n  components: {\n    ListBanner\n  },\n  data () {\n    return {\n      products: [],\n      isActive: '',\n      isLoading: '',\n      title: '行程列表',\n      categories: [\n        {\n          category: '',\n          name: '全部'\n        },\n        {\n          category: '亞洲',\n          name: '亞洲'\n        },\n        {\n          category: '歐洲',\n          name: '歐洲'\n        },\n        {\n          category: '非洲',\n          name: '非洲'\n        },\n        {\n          category: '澳洲',\n          name: '澳洲'\n        },\n        {\n          category: '美洲',\n          name: '美洲'\n        }\n      ]\n    }\n  },\n  mixins: [favoriteMixin],\n  created () {\n    const { pathCategory } = this.$route.params\n    if (pathCategory) {\n      this.category = this.$route.params.category\n      this.isActive = this.category\n    }\n    this.getProducts(pathCategory)\n    // console.log('created:category', this.category)\n    // console.log('created:pathCategory', pathCategory)\n  },\n  methods: {\n    ...mapActions(cartStore, ['addToCart']),\n    ...mapActions(statusStore, ['pushMsg']),\n    filterCategory (category) {\n      this.category = category\n      this.getProducts(category)\n    },\n    getProducts (category) {\n      this.isActive = ''\n      let url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`\n      if (category) {\n        url = `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/products?category=${category}`\n        this.isActive = category\n      }\n      // console.log('Category->', category)\n      // console.log('isActive->', this.isActive)\n      this.isLoading = true\n      this.$http.get(url)\n        .then((res) => {\n          this.products = res.data.products\n          this.isLoading = false\n        }).catch(() => {\n          this.isLoading = false\n        })\n    },\n    computed: {\n      ...mapState(cartStore, ['cartData']),\n      ...mapState(statusStore, ['isLoadingItem'])\n    },\n    mounted () {\n      if (this.$route.params.category !== undefined) {\n        this.category = this.$route.params.category\n        this.isActive = this.category\n      }\n      this.getProducts()\n      // console.log('mounted:', this.category)\n    }\n  }\n}\n</script>\n","<template>\r\n  <section class=\"list-banner\">\r\n    <div class=\"title\">\r\n      <div class=\"container\">\r\n        <div class=\"row justify-content-end\">\r\n          <div class=\"col-md-6\">\r\n            <h2 class=\"text-white\">{{ title }}</h2>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data () {\r\n    return {}\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ListBanner.vue?vue&type=template&id=55d2db6a\"\nimport script from \"./ListBanner.vue?vue&type=script&lang=js\"\nexport * from \"./ListBanner.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\clair\\\\OneDrive\\\\桌面\\\\VueProject\\\\FunTrip-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductList.vue?vue&type=template&id=011809f8\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\clair\\\\OneDrive\\\\桌面\\\\VueProject\\\\FunTrip-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","role","style","_hoisted_23","_createVNode","_component_LoadingView","active","$data","_hoisted_1","_component_ListBanner","title","_createElementBlock","_Fragment","_renderList","item","type","category","key","onClick","$options","name","_hoisted_7","id","_toDisplayString","_component_router_link","to","src","imageUrl","_ctx","includes","_createBlock","_component_font_awesome_icon","icon","innerHTML","content","origin_price","price","_hoisted_26","$props","props","String","default","data","__exports__","components","ListBanner","products","isActive","isLoading","categories","mixins","favoriteMixin","created","pathCategory","this","$route","params","getProducts","methods","mapActions","cartStore","statusStore","filterCategory","url","$http","get","then","res","catch","computed","mapState","mounted","undefined","render"],"sourceRoot":""}