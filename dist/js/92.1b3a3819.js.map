{"version":3,"file":"js/92.1b3a3819.js","mappings":"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","sources":["webpack://ebookstore/./src/mixins/LocalFavorite.js","webpack://ebookstore/./src/views/front/MyFavorite.vue","webpack://ebookstore/./src/views/front/MyFavorite.vue?18ce"],"sourcesContent":["import { mapActions } from 'pinia'\nimport statusStore from '@/stores/statusStore'\nimport Swal from 'sweetalert2'\n\nexport default {\n  data () {\n    return {\n      favorite: JSON.parse(localStorage.getItem('favorite')) || [],\n      favoriteId: JSON.parse(localStorage.getItem('favoriteId')) || [],\n      resentlyViewdProducts: JSON.parse(localStorage.getItem('resentlyViewdProducts')) || []\n    }\n  },\n  watch: {\n    // 用locolstorage自訂欄位並存取資料\n    favorite: {\n      handler () {\n        // localStorage只接受字串\n        localStorage.setItem('favorite', JSON.stringify(this.favorite))\n      },\n      deep: true\n    },\n    favoriteId: {\n      handler () {\n        localStorage.setItem('favoriteId', JSON.stringify(this.favoriteId))\n      },\n      deep: true\n    },\n    resentlyViewdProducts: {\n      handler () {\n        localStorage.setItem('resentlyViewdProducts', JSON.stringify(this.resentlyViewdProducts))\n      },\n      deep: true\n    }\n  },\n  methods: {\n    ...mapActions(statusStore, ['pushMsg']),\n    toggleFavorite (product) {\n      const favoriteIndex = this.favorite.findIndex((item) => item.id === product.id)\n      if (favoriteIndex === -1) {\n        this.favorite.push(product)\n        this.favoriteId.push(product.id)\n        // this.pushMsg(true, '收藏', '已成功收藏')\n        Swal.fire({\n          position: 'center',\n          icon: 'success',\n          title: '已成功收藏',\n          showConfirmButton: false,\n          timer: 2000\n        })\n      } else {\n        this.favorite.splice(favoriteIndex, 1)\n        this.favoriteId.splice(favoriteIndex, 1)\n        // this.pushMsg(false, '收藏', '已取消收藏')\n        Swal.fire({\n          position: 'center',\n          icon: 'warning',\n          title: '已取消收藏',\n          showConfirmButton: false,\n          timer: 2000\n        })\n      }\n      this.emitter.emit('getfavorite')\n    },\n    removeFavoriteItem (product) {\n      const favoriteIndex = this.favorite.findIndex((item) => item.id === product.id)\n      this.favorite.splice(favoriteIndex, 1)\n      this.favoriteId.splice(favoriteIndex, 1)\n      // this.pushMsg(false, '收藏', '已取消收藏')\n      Swal.fire({\n        position: 'center',\n        icon: 'warning',\n        title: '已取消收藏',\n        showConfirmButton: false,\n        timer: 2000\n      })\n    },\n    getLocalStorage () {\n      // 讀檔:取出 saveFavorite欄位字串內容轉回物件\n      return JSON.parse(localStorage.getItem('favorite'))\n    },\n    resentlyViewed (product) {\n      const resentlyViewdIndex = this.resentlyViewdProducts.findIndex((item) => item.id === product.id)\n      // 如果預覽到不同的書籍，增加一筆資料在陣列開頭，讓最新預覽的商品排在最前面\n      if (resentlyViewdIndex === -1) {\n        this.resentlyViewdProducts.unshift(product)\n        if (this.resentlyViewdProducts.length > 10) {\n          // 如果總數量超過10，刪除陣列的最後一筆資料\n          this.resentlyViewdProducts.pop()\n        }\n        // 如果預覽到重複的書籍\n      } else if (resentlyViewdIndex !== -1) {\n        // 先刪除重複的資料\n        this.resentlyViewdProducts.splice(resentlyViewdIndex, 1)\n        // 再重新推進最新的位置\n        this.resentlyViewdProducts.unshift(product)\n      }\n    }\n  }\n}\n","<!-- Views: MyFavorite.vue -->\r\n<template>\r\n  <LoadingView class=\"loading\" :active=\"isLoading\">\r\n      <div class=\"spinner-border text-primary m-5\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n  </LoadingView>\r\n  <div class=\"bg-light\">\r\n    <div class=\"favorite-banner\">\r\n      <div class=\"container\">\r\n        <div class=\"title\">\r\n          <h2 class=\"text-white text-center\">我的收藏行程</h2>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <section class=\"favorite-base section_favorites\">\r\n    <div class=\"container\">\r\n      <h3 class=\"border-bottom pb-3 mb-3 text-end\">收藏清單列表</h3>\r\n      <div v-if=\"favorite.length\">\r\n        <ul class=\"list-group\">\r\n          <li v-for=\"item in favorite\" :key=\"item.id\" class=\"border-0 custom-item favbox list-group-item bg-lightDark shadow-sm align-items-center mb-4\">\r\n            <span class=\"custom-icon\">\r\n              <a href=\"#\" class=\"del-icon\"\r\n               @click.prevent=\"removeFavoriteItem(item)\"><i class=\"fas fa-times fs-4\" /></a>\r\n            </span>\r\n            <div class=\"row \">\r\n              <!--照片-->\r\n              <div class=\"col-5 col-sm-5 col-md-4 col-lg-3 mt-2\">\r\n                <div class=\"img-wrap pl-3\">\r\n                  <img class=\"rounded-2\" :src=\"item.imageUrl\">\r\n                </div>\r\n              </div>\r\n              <div class=\"col-7 col-sm-7 col-md-8 col-lg-9\r\n                    mt-2 mt-md-0\r\n                    d-flex\r\n                    align-items-center\">\r\n                    <div class=\"row flex-fill align-items-center\">\r\n                      <!--名稱-->\r\n                      <div class=\"col-sm-12 col-md-4 col-lg-5\">\r\n                        <p class=\"text-start mb-0 fw-bold pr-4 fs-5 text-primaryDark\">\r\n                        {{ item.title }}\r\n                        </p>\r\n                      </div>\r\n                      <!--價格 -->\r\n                      <div class=\"col-sm-12 col-md-4 col-lg-5\">\r\n                        <p class=\"prices\">\r\n                          <span class=\"price_origin fs-5\"> 價格：{{ item.price }}/人</span>\r\n                        </p>\r\n                      </div>\r\n                      <!--更多-->\r\n                      <div class=\"col-sm-12 col-md-4 col-lg-2 text-center py-2\">\r\n                        <button type=\"button\"\r\n                                class=\"position-absolute bottom-0 mb-3 mt-2 btn btn-secondary rounded-5\" @click.prevent=\"toProduct(item.id)\"\r\n                                style=\"right: 15px;\">\r\n                          了解更多 <span><i class=\"fas fa-chevron-right\" /></span>\r\n                        </button>\r\n                      </div>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div v-else>\r\n        <div class=\"text-center\">\r\n          <div class=\"bg-light py-5 px-2 px-sm-5\">\r\n            <h2 class=\"mb-5 fw-bolder\">尚無行程加入收藏</h2>\r\n            <router-link class=\"btn btn-secondary fs-5 fw-bolder\" to=\"/list\">\r\n              把喜歡的行程加入收藏吧 !\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport favoriteMixin from '@/mixins/LocalFavorite'\r\n\r\nimport { mapState, mapActions } from 'pinia'\r\nimport cartStore from '@/stores/cartStore'\r\nimport statusStore from '@/stores/statusStore'\r\n\r\nexport default {\r\n  mixins: [favoriteMixin],\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  components: {\r\n  },\r\n  computed: {\r\n    ...mapState(cartStore, ['cartData']),\r\n    ...mapState(statusStore, ['isLoadingItem', 'isLoadingItem', 'isLoading'])\r\n  },\r\n  methods: {\r\n    ...mapActions(cartStore, ['addToCart']),\r\n    ...mapActions(statusStore, ['loadingEffect', 'loadingItemEffect', 'pushMsg']),\r\n    toProduct (id) {\r\n      this.$router.push(`/product/${id}`)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.loadingEffect()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./MyFavorite.vue?vue&type=template&id=369a24a1\"\nimport script from \"./MyFavorite.vue?vue&type=script&lang=js\"\nexport * from \"./MyFavorite.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\clair\\\\OneDrive\\\\桌面\\\\VueProject\\\\FunTrip-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["data","favorite","JSON","parse","localStorage","getItem","favoriteId","resentlyViewdProducts","watch","handler","setItem","stringify","this","deep","methods","mapActions","statusStore","toggleFavorite","product","favoriteIndex","findIndex","item","id","push","Swal","position","icon","title","showConfirmButton","timer","splice","emitter","emit","removeFavoriteItem","getLocalStorage","resentlyViewed","resentlyViewdIndex","unshift","length","pop","_createElementVNode","class","role","_hoisted_11","_hoisted_27","_createVNode","_component_LoadingView","active","_ctx","_hoisted_1","_hoisted_3","_hoisted_6","_createElementBlock","_hoisted_7","_Fragment","_renderList","key","href","onClick","src","imageUrl","_toDisplayString","price","type","$options","style","_hoisted_29","_hoisted_32","_component_router_link","to","mixins","favoriteMixin","components","computed","mapState","cartStore","toProduct","$router","mounted","loadingEffect","__exports__","render"],"sourceRoot":""}