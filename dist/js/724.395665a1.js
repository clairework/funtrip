"use strict";(self["webpackChunkebookstore"]=self["webpackChunkebookstore"]||[]).push([[724],{9446:function(t,s,r){r.r(s),r.d(s,{default:function(){return xt}});var e=r(6252),a=r(9963),l=r(3577),d=r.p+"img/loading.8a13cb6e.gif";const i=(0,e._)("img",{src:d,alt:"Loading"},null,-1),c={class:"window-height bg-light"},o={class:"container"},n={class:"row justify-content-center"},u={class:"col-md-6 py-6 py-md-10"},p={class:"input-group me-2 mt-5 mb-5"},m=(0,e._)("button",{class:"btn btn-primary",type:"submit",id:"button-addon2"},[(0,e._)("i",{class:"fa-solid fa-magnifying-glass text-white"})],-1),h={class:"container"},_={key:0,class:"d-flex flex-column justify-content-center min-h-50vh py-5"},w=(0,e._)("i",{class:"fs-1 far fa-arrow-alt-circle-up text-primaryDark fa-2x mb-3"},null,-1),y=(0,e._)("p",{class:"text-center fw-bold mb-4 h4"},"請輸入訂單編號",-1),b=[w,y],x={key:1,class:"row justify-content-center pt-5"},g={class:"col-md-12"},f={class:"row"},k={class:"col-md-8"},D={class:"d-flex justify-content-between align-items-center mb-4"},v=(0,e._)("p",{class:"text-primaryDark fw-bold fs-3 p-2"},"訂單內容",-1),O={class:"d-flex"},z={key:0,class:"text-primaryDark fw-bold me-2"},L={key:1,class:"text-primaryDark fw-bold me-2"},q={class:"switch"},$=(0,e._)("span",{class:"slider cursor-default"},null,-1),j={class:"table align-middle"},M=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",{class:"d-none d-md-table-cell text-start",width:"40%"},"名稱"),(0,e._)("th",{class:"d-none d-md-table-cell text-start",width:"30%"},"單價"),(0,e._)("th",{class:"d-none d-md-table-cell text-center",width:"30%"},"數量")])],-1),S={class:"d-flex align-items-center p-3"},U=["src","alt"],V={class:"cart-body text-start"},C={class:"fw-bold"},H={class:"fw-bold"},N={key:0,class:"text-danger fw-bold"},T={width:"20%"},Y={class:"fw-bold text-primaryDark"},Z={class:"text-center",width:"20%"},E={class:"text-secondaryDark fw-bold text-end mb-3 fs-md-4"},F={class:"col-md-4 mb-5"},K=(0,e._)("p",{class:"text-primaryDark fw-bold fs-3 p-2 text-center mb-3"},"用戶資訊",-1),W={class:"p-5 bg-primaryFour shadow-sm"},A={class:"table mb-5 mb-md-0 fs-6 ms-3 w-90 border-primaryOne pb-5"},B={class:"text-start"},G=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"下單時間",-1),I={class:"text-primaryDark"},J={class:"text-start"},P=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"Email",-1),Q={class:"text-primaryDark"},R={class:"text-start"},X=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"收件人姓名",-1),tt={class:"text-primaryDark"},st={class:"text-start"},rt=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"電話號碼",-1),et={class:"text-primaryDark"},at={class:"text-start"},lt=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"收件地址",-1),dt={class:"text-primaryDark"},it={key:0,class:"text-start"},ct=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"付款方式",-1),ot={class:"text-primaryDark"},nt={key:1,class:"text-start"},ut=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"備註",-1),pt={class:"text-primaryDark"};function mt(t,s,r,d,w,y){const mt=(0,e.up)("LoadingView");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(mt,{class:"loading",active:w.isLoading},{default:(0,e.w5)((()=>[i])),_:1},8,["active"]),(0,e._)("div",c,[(0,e._)("div",o,[(0,e._)("div",n,[(0,e._)("div",u,[(0,e._)("div",p,[(0,e.wy)((0,e._)("input",{class:"form-control",type:"search","onUpdate:modelValue":s[0]||(s[0]=t=>w.search=t),placeholder:"請輸入訂單編號","aria-label":"Search","aria-describedby":"button-addon2"},null,512),[[a.nr,w.search,void 0,{lazy:!0,trim:!0}]]),m])])])]),(0,e._)("div",h,[w.userOrder.id?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("div",_,b)),w.userOrder.id?((0,e.wg)(),(0,e.iD)("div",x,[(0,e._)("div",g,[(0,e._)("div",f,[(0,e._)("div",k,[(0,e._)("div",D,[v,(0,e._)("div",O,[w.userOrder.is_paid?((0,e.wg)(),(0,e.iD)("span",z,"已付款")):((0,e.wg)(),(0,e.iD)("span",L,"未付款")),(0,e._)("label",q,[(0,e.wy)((0,e._)("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=t=>w.userOrder.is_paid=t),disabled:""},null,512),[[a.e8,w.userOrder.is_paid]]),$])])]),(0,e._)("table",j,[M,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(w.userOrder.products,(t=>((0,e.wg)(),(0,e.iD)("tr",{key:t.id},[(0,e._)("td",null,[(0,e._)("div",S,[(0,e._)("img",{class:"imgbox_small1 me-4",src:t.product.imageUrl,alt:t.product.title},null,8,U),(0,e._)("div",V,[(0,e._)("p",C,(0,l.zw)(t.product.title),1),(0,e._)("p",H,(0,l.zw)(t.product.author),1),t.coupon?((0,e.wg)(),(0,e.iD)("p",N,"已套用優惠券")):(0,e.kq)("",!0)])])]),(0,e._)("td",T,[(0,e._)("p",Y,"NT$ "+(0,l.zw)(t.product.price),1)]),(0,e._)("td",Z,[(0,e._)("p",null,"x "+(0,l.zw)(t.qty),1)])])))),128))])]),(0,e._)("div",null,[(0,e._)("p",E," 應付金額 : NT$"+(0,l.zw)(Math.round(w.userOrder.total)),1)])]),(0,e._)("div",F,[K,(0,e._)("div",W,[(0,e._)("table",A,[(0,e._)("tbody",null,[(0,e._)("tr",B,[G,(0,e._)("td",I,(0,l.zw)(t.$filters.date(w.userOrder.create_at)),1)]),(0,e._)("tr",J,[P,(0,e._)("td",Q,(0,l.zw)(w.userOrder.user.email),1)]),(0,e._)("tr",R,[X,(0,e._)("td",tt,(0,l.zw)(w.userOrder.user.name),1)]),(0,e._)("tr",st,[rt,(0,e._)("td",et,(0,l.zw)(w.userOrder.user.tel),1)]),(0,e._)("tr",at,[lt,(0,e._)("td",dt,(0,l.zw)(w.userOrder.user.address),1)]),w.userOrder.user.payment?((0,e.wg)(),(0,e.iD)("tr",it,[ct,(0,e._)("td",ot,(0,l.zw)(w.userOrder.user.payment),1)])):(0,e.kq)("",!0),w.userOrder.message?((0,e.wg)(),(0,e.iD)("tr",nt,[ut,(0,e._)("td",pt,(0,l.zw)(w.userOrder.message),1)])):(0,e.kq)("",!0)])])])])])])])):(0,e.kq)("",!0)])])],64)}r(6699);var ht=r(8262),_t=r(6294),wt={data(){return{userOrder:{user:{},products:{}},search:"",isLoading:!1}},watch:{search:{handler(){""===this.search?this.userOrder={}:this.getOrders(this.search)},deer:!0}},methods:{...(0,ht.nv)(_t.Z,["pushMsg"]),getOrders(t){this.search.length<20||!this.search.includes("-")?this.pushMsg(!1,"搜尋","請重新搜尋"):(this.isLoading=!0,this.$http.get(`https://vue3-course-api.hexschool.io/api/claire-api/order/${t}`).then((t=>{this.isLoading=!1,this.userOrder=t.data.order,this.userOrder.orderStatus||(this.userOrder.orderStatus="已收到訂單")})).catch((()=>{this.isLoading=!1,this.pushMsg(!1,"搜尋","請重新搜尋")})))}}},yt=r(3744);const bt=(0,yt.Z)(wt,[["render",mt]]);var xt=bt}}]);
//# sourceMappingURL=724.395665a1.js.map