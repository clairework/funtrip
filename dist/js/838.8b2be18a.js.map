{"version":3,"file":"js/838.8b2be18a.js","mappings":"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","sources":["webpack://ebookstore/./src/components/front/OrderSteps.vue","webpack://ebookstore/./src/components/front/OrderSteps.vue?180d","webpack://ebookstore/./src/views/front/CheckOut.vue","webpack://ebookstore/./src/views/front/CheckOut.vue?5238"],"sourcesContent":["<template>\n    <section class=\"zones section_process py-5\">\n      <div class=\"container \">\n        <div class=\"row justify-content-center\">\n          <div class=\"col-md-10\">\n            <div class=\"step-wrap\">\n              <div class=\"step step1 done\">\n                <h3>1</h3>\n                <span class=\"txt\">確認訂單</span>\n              </div>\n              <div\n                class=\"step step2\"\n                :class=\"{done:step === 2 || step === 3}\"\n              >\n                <h3>2</h3>\n                <span class=\"txt\">確認付款</span>\n              </div>\n              <div\n                class=\"step step3\"\n                :class=\"{done:step === 3}\"\n              >\n                <h3>3</h3>\n                <span class=\"txt\">完成訂單</span>\n              </div>\n            </div>\n            <div class=\"progress\">\n              <div\n                class=\"progress-bar bg-primaryLight\"\n                :class=\"{step2:step === 2,step3:step === 3}\"\n                role=\"progressbar\"\n                aria-valuenow=\"50\"\n                aria-valuemin=\"0\"\n                aria-valuemax=\"100\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {}\n  },\n  props: ['step']\n}\n</script>\n","import { render } from \"./OrderSteps.vue?vue&type=template&id=70d3cb97\"\nimport script from \"./OrderSteps.vue?vue&type=script&lang=js\"\nexport * from \"./OrderSteps.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\clair\\\\OneDrive\\\\桌面\\\\VueProject\\\\FunTrip-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <LoadingView class=\"loading\" :active=\"isLoading\">\n    <div class=\"spinner-border text-primary m-5\" role=\"status\">\n    <span class=\"visually-hidden\">Loading...</span>\n    </div>\n  </LoadingView>\n  <div class=\"bg-light\">\n    <OrderSteps :orderId=\"order\" :step=\"step\"></OrderSteps>\n    <div class=\"container pt-14 pb-5 pb-md-9\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-8 mb-6 mb-md-0\">\n          <div class=\"position-sticky top-20\">\n            <!-- 訂單編號 -->\n             <div class=\"mb-8\">\n                <div class=\"d-flex mb-4\">\n                  <p class=\"text-primaryDark fw-bold fs-4 fs-md-3 p-2\">訂單編號</p>\n                </div>\n                <div class=\"d-flex flex-column flex-md-row justify-content-md-between align-items-center\">\n                  <p ref=\"orderId\" class=\"fs-5 fw-bold text-primary mb-2 mb-md-0\">{{ order.id }}</p>\n                <div class=\"btn btn btn-primaryDark w-100 w-md-auto text-white fs-small\" @click=\"copyOrderId(order.id)\"> 複製訂單編號</div>\n              </div>\n            </div>\n            <!-- 訂單內容 -->\n            <div class=\"d-flex mb-4\">\n              <p class=\"text-primaryDark fw-bold fs-4 fs-md-3 p-2\">訂單內容</p>\n            </div>\n            <!--左邊: 購物車品項 -->\n              <table class=\"table align-middle\">\n              <thead>\n                <tr>\n                  <th class=\"d-none d-md-table-cell text-start\" width=\"40%\">名稱</th>\n                  <th class=\"d-none d-md-table-cell text-start\" width=\"30%\">單價</th>\n                  <th class=\"d-none d-md-table-cell text-center\" width=\"30%\">數量</th>\n                </tr>\n              </thead>\n              <tbody>\n              <tr v-for=\"item in order.products\" :key=\"item.id\">\n                <td>\n                <div class=\"d-flex align-items-center p-3\">\n                  <img class=\"imgbox_small1 me-4\" :src=\"item.product.imageUrl\" :alt=\"item.product.title\">\n                  <div class=\"cart-body text-start \">\n                    <p class=\"fw-bold\">{{ item.product.title }}</p>\n                    <p class=\"fw-bold\">{{ item.product.author }}</p>\n                    <p class=\"text-danger fw-bold\" v-if=\"item.coupon\">已套用優惠券</p>\n                  </div>\n                </div>\n                </td>\n                <td width=\"20%\">\n                  <p class=\"fw-bold text-primaryDark\">NT$ {{ item.product.price }}</p>\n                </td>\n                <td class=\"text-center\" width=\"20%\">\n                <p>x {{ item.qty }}</p>\n                </td>\n              </tr>\n              </tbody>\n            </table>\n             <!-- 小計 -->\n            <div>\n              <p class=\"text-primaryDark fw-bold text-end mb-3 fs-md-4\">\n                應付金額 : NT${{ Math.round(order.total) }}\n              </p>\n            </div>\n          </div>\n        </div>\n        <!-- 收件人資料 -->\n        <div class=\"col-md-4\">\n            <form class=\"bg-primaryLight p-4 p-md-8 shadow\">\n              <h2 class=\"category fs-4 fs-md-3 d-inline-block text-primaryDark p-2 fw-bold mb-6\">收件人資料</h2>\n                  <div class=\"mb-3\">\n                    <label for=\"email\" class=\"form-label fw-bold text-white\">Email</label>\n                    <input id=\"email\" name=\"email\" type=\"email\" class=\"form-control border-0\" :value=\"order.user.email\" disabled>\n                  </div>\n                  <div class=\"mb-3\">\n                    <label for=\"name\" class=\"form-label fw-bold text-white\">收件人姓名</label>\n                    <input id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control border-0\" :value=\"order.user.name\" disabled>\n                  </div>\n                  <div class=\"mb-3\">\n                    <label for=\"tel\" class=\"form-label fw-bold text-white\">收件人電話</label>\n                    <input id=\"tel\" name=\"電話\" type=\"text\" class=\"form-control border-0\" :value=\"order.user.tel\" disabled>\n                  </div>\n                  <div class=\"mb-3\">\n                    <label for=\"address\" class=\"form-label fw-bold text-white\">收件人地址</label>\n                    <input id=\"address\" name=\"地址\" type=\"text\" class=\"form-control border-0\" :value=\"order.user.address\" disabled>\n                  </div>\n                  <div class=\"mb-3\">\n                    <label for=\"message\" class=\"form-label fw-bold text-white\">備註</label>\n                    <textarea id=\"message\" class=\"form-control min-h-25 border-0\" :value=\"order.message\" disabled></textarea>\n                  </div>\n                  <div class=\"text-end\">\n                    <button type=\"submit\" class=\"btn btn-primaryDark text-white w-100\"\n                    @click.prevent=\"pay\">確認付款</button>\n                  </div>\n            </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'pinia'\nimport statusStore from '@/stores/statusStore'\nimport OrderSteps from '@/components/front/OrderSteps'\n\nexport default {\n  data () {\n    return {\n      step: 2,\n      order: {\n        user: {},\n        products: {}\n      },\n      orderProducts: [],\n      orderId: this.$route.params.id,\n      isLoading: false\n    }\n  },\n  components: {\n    OrderSteps\n  },\n  methods: {\n    ...mapActions(statusStore, ['pushMsg']),\n    getOrders (id) {\n      this.isLoading = true\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${id}`)\n        .then((res) => {\n          this.order = res.data.order\n          // 物件轉成陣列\n          this.orderProducts = Object.keys(this.order.products).map((i) => this.order.products[i])\n          this.isLoading = false\n        }).catch(() => {\n          this.isLoading = false\n        })\n    },\n    pay () {\n      this.isLoading = true\n      this.$http.post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`)\n        .then((res) => {\n          this.isLoading = false\n          this.pushMsg(res, '更新', '已付款成功')\n          // 頁面跳轉\n          this.$router.push('/payment')\n        })\n    },\n    copyOrderId (text) {\n      navigator.clipboard.writeText(text)\n        .then(() => {\n          this.pushMsg(true, '複製', '您已成功複製優惠碼!')\n        })\n    }\n  },\n  mounted () {\n    this.getOrders(this.orderId)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.min-h-25{\n  min-height:100px;\n}\n</style>\n","import { render } from \"./CheckOut.vue?vue&type=template&id=790e1a64&scoped=true\"\nimport script from \"./CheckOut.vue?vue&type=script&lang=js\"\nexport * from \"./CheckOut.vue?vue&type=script&lang=js\"\n\nimport \"./CheckOut.vue?vue&type=style&index=0&id=790e1a64&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\clair\\\\OneDrive\\\\桌面\\\\VueProject\\\\FunTrip-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-790e1a64\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_7","_hoisted_8","_hoisted_10","_hoisted_11","_createElementBlock","_hoisted_6","done","$props","step2","step3","role","data","props","__exports__","render","width","for","_createVNode","_component_LoadingView","active","$data","_hoisted_1","_component_OrderSteps","orderId","step","ref","id","onClick","$options","_hoisted_12","_Fragment","_renderList","products","item","key","src","product","imageUrl","alt","title","_toDisplayString","author","coupon","price","qty","Math","round","total","_hoisted_25","_hoisted_27","name","type","value","user","email","disabled","_hoisted_30","_hoisted_33","tel","_hoisted_36","address","_hoisted_39","message","order","orderProducts","this","$route","params","isLoading","components","OrderSteps","methods","mapActions","statusStore","getOrders","$http","get","then","res","Object","keys","map","i","catch","pay","post","pushMsg","$router","push","copyOrderId","text","navigator","clipboard","writeText","mounted"],"sourceRoot":""}