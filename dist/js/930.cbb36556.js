"use strict";(self["webpackChunkebookstore"]=self["webpackChunkebookstore"]||[]).push([[930],{206:function(t,a,e){var s=e(8262),o=e(6294),n=e(6455),l=e.n(n);a["Z"]={data(){return{favorite:JSON.parse(localStorage.getItem("favorite"))||[],favoriteId:JSON.parse(localStorage.getItem("favoriteId"))||[],resentlyViewdProducts:JSON.parse(localStorage.getItem("resentlyViewdProducts"))||[]}},watch:{favorite:{handler(){localStorage.setItem("favorite",JSON.stringify(this.favorite))},deep:!0},favoriteId:{handler(){localStorage.setItem("favoriteId",JSON.stringify(this.favoriteId))},deep:!0},resentlyViewdProducts:{handler(){localStorage.setItem("resentlyViewdProducts",JSON.stringify(this.resentlyViewdProducts))},deep:!0}},methods:{...(0,s.nv)(o.Z,["pushMsg"]),toggleFavorite(t){const a=this.favorite.findIndex((a=>a.id===t.id));-1===a?(this.favorite.push(t),this.favoriteId.push(t.id),l().fire({position:"center",icon:"success",title:"已成功收藏",showConfirmButton:!1,timer:2e3})):(this.favorite.splice(a,1),this.favoriteId.splice(a,1),l().fire({position:"center",icon:"warning",title:"已取消收藏",showConfirmButton:!1,timer:2e3})),this.emitter.emit("getfavorite")},removeFavoriteItem(t){const a=this.favorite.findIndex((a=>a.id===t.id));this.favorite.splice(a,1),this.favoriteId.splice(a,1),l().fire({position:"center",icon:"warning",title:"已取消收藏",showConfirmButton:!1,timer:2e3})},getLocalStorage(){return JSON.parse(localStorage.getItem("favorite"))},resentlyViewed(t){const a=this.resentlyViewdProducts.findIndex((a=>a.id===t.id));-1===a?(this.resentlyViewdProducts.unshift(t),this.resentlyViewdProducts.length>10&&this.resentlyViewdProducts.pop()):-1!==a&&(this.resentlyViewdProducts.splice(a,1),this.resentlyViewdProducts.unshift(t))}}}},9054:function(t,a,e){var s=e(8262);a["Z"]=(0,s.Q_)("goAnchor",{state:()=>({anchorActive:!1}),actions:{clickAnchor(){this.$router.push("/"),this.anchorActive=!0,this.goAnchor()},goAnchor(){this.anchorActive=!1,setTimeout((()=>{const t=document.querySelector("#cta");document.documentElement.scrollTop=t.offsetTop-150}),800)}}})},5522:function(t,a,e){e.d(a,{Z:function(){return g}});var s=e(6252),o=e(3577);const n={class:"toast-container position-fixed top-85 top-md-10 start-50 translate-middle z-index-3000"},l={class:"toast-header"},i={class:"me-auto"},r=["onClick"],c={class:"toast-body d-flex flex-column align-items-center text-dark"};function d(t,a,e,d,p,u){return(0,s.wg)(),(0,s.iD)("div",n,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.messages,((a,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"toast show",role:"alert","aria-live":"assertive","aria-atomic":"true",key:e},[(0,s._)("div",l,[(0,s._)("span",{class:(0,o.C_)([`bg-${a.style}`,"p-2 rounded me-2 d-inline-block"])},null,2),(0,s._)("strong",i,(0,o.zw)(a.title),1),(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close",onClick:a=>t.clearToast(e)},null,8,r)]),(0,s._)("div",c,[(0,s._)("i",{class:(0,o.C_)(["fa-solid fa-2x mb-3",`${a.icon} text-${a.style}`])},null,2),(0,s.Uk)(" "+(0,o.zw)(a.content),1)])])))),128))])}var p=e(8262),u=e(6294),m={methods:{...(0,p.nv)(u.Z,["toastShow","clearToast","statusMsg"])},computed:{...(0,p.rn)(u.Z,["messages"])},mounted(){}},f=e(3744);const v=(0,f.Z)(m,[["render",d]]);var g=v},930:function(t,a,e){e.r(a),e.d(a,{default:function(){return va}});var s=e(6252);function o(t,a,e,o,n,l){const i=(0,s.up)("FrontNavbar"),r=(0,s.up)("ToastMsg"),c=(0,s.up)("GoTop"),d=(0,s.up)("RouterView"),p=(0,s.up)("FooterComponent");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i),(0,s.Wm)(r),(0,s.Wm)(c),(0,s.Wm)(d),(0,s.Wm)(p)],64)}var n=e(3577),l=e(1412);const i={class:"sticky-top",id:"top"},r={class:"navbar navbar-expand-lg navbar-white bg-white-70 box-shadow"},c={class:"container"},d=(0,s._)("h1",{class:"logo"},[(0,s._)("img",{src:l,alt:"放假趣"})],-1),p={class:"cart dropdown ms-auto cursor-pointer order-lg-3 fs-6"},u={class:"text-primaryDark",id:"cartDropdown","data-bs-toggle":"dropdown","aria-expanded":"false"},m={class:"d-flex"},f=(0,s._)("i",{class:"fa-solid fa-cart-shopping"},null,-1),v={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},g=(0,s._)("span",{class:"d-none d-md-block"},"購物車",-1),h={class:"dropdown-menu dropdown-menu-end vw-87.5 vw-md-27.5 rounded-4"},w={key:0},_=(0,s._)("i",{class:"fa-solid fa-x text-secondaryDark"},null,-1),b=[_],k={key:1},y=(0,s._)("i",{class:"fa-solid fa-bars text-secondaryDark"},null,-1),C=[y],x={class:"collapse navbar-collapse",id:"navbar"},D={class:"navbar-nav ms-auto"},I=(0,s._)("i",{class:"fa-solid fa-house-chimney me-2"},null,-1),T=(0,s.Uk)("首頁 "),S=(0,s._)("i",{class:"fa-solid fa-clipboard me-2"},null,-1),Z=(0,s.Uk)("行程列表 "),W=(0,s._)("i",{class:"fa-solid fa-heart me-2"},null,-1),U=(0,s.Uk)("我的收藏 "),V=(0,s._)("i",{class:"fa-solid fa-magnifying-glass me-2"},null,-1),q=(0,s.Uk)("查詢訂單 ");function B(t,a,e,o,l,_){const y=(0,s.up)("router-link"),B=(0,s.up)("CartList");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("nav",r,[(0,s._)("div",c,[(0,s.Wm)(y,{class:"navbar-brand",to:"/"},{default:(0,s.w5)((()=>[d])),_:1}),(0,s._)("div",p,[(0,s._)("div",u,[(0,s._)("div",m,[(0,s._)("div",{class:(0,n.C_)(["position-relative me-2 me-md-3",{bounced:t.isBounced}])},[f,0!=t.cartData.carts.length?((0,s.wg)(),(0,s.iD)("span",v,(0,n.zw)(t.cartData.carts.length),1)):(0,s.kq)("",!0)],2),g])]),(0,s._)("div",h,[(0,s.Wm)(B,{onGetCartList:t.getCartList},null,8,["onGetCartList"])])]),(0,s._)("button",{class:"navbar-toggler box-shadow-none px-2",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar","aria-controls":"navbar","aria-expanded":"false","aria-label":"Toggle navigation",onClick:a[0]||(a[0]=t=>l.navIconChange=!l.navIconChange)},[l.navIconChange?((0,s.wg)(),(0,s.iD)("span",w,b)):((0,s.wg)(),(0,s.iD)("span",k,C))]),(0,s._)("div",x,[(0,s._)("ul",D,[(0,s._)("li",{class:"nav-item me-md-3 py-1 fs-6",onClick:a[1]||(a[1]=(...t)=>_.navCollapseBack&&_.navCollapseBack(...t))},[(0,s.Wm)(y,{class:"nav-link",to:"/"},{default:(0,s.w5)((()=>[I,T])),_:1})]),(0,s._)("li",{class:"nav-item me-md-3 py-1 fs-6",onClick:a[2]||(a[2]=(...t)=>_.navCollapseBack&&_.navCollapseBack(...t))},[(0,s.Wm)(y,{class:"nav-link",to:"/list"},{default:(0,s.w5)((()=>[S,Z])),_:1})]),(0,s._)("li",{class:"nav-item me-md-3 py-1 fs-6",onClick:a[3]||(a[3]=(...t)=>_.navCollapseBack&&_.navCollapseBack(...t))},[(0,s.Wm)(y,{class:"nav-link",to:"/favorite"},{default:(0,s.w5)((()=>[W,U])),_:1})]),(0,s._)("li",{class:"nav-item me-md-3 py-1 fs-6",onClick:a[4]||(a[4]=(...t)=>_.navCollapseBack&&_.navCollapseBack(...t))},[(0,s.Wm)(y,{class:"nav-link",to:"/orderSearch"},{default:(0,s.w5)((()=>[V,q])),_:1})])])])])])])}var L=e(9963);const A=t=>((0,s.dD)("data-v-ac07621e"),t=t(),(0,s.Cn)(),t),N={ref:"cart",class:"cursor-default bg-white pt-0"},P=A((()=>(0,s._)("div",{class:"py-3 d-flex flex-column align-items-center"},[(0,s._)("p",{class:"fs-3 fw-bold text-dark letter-md-spacing border-primary"},"購物車")],-1))),z={class:"overflow-auto h-100 max-h-70vh p-2"},F={class:"h-100"},M={key:0,class:"d-flex justify-content-end p-2"},$=(0,s.Uk)("清空購物車 "),O=A((()=>(0,s._)("i",{class:"fas fa-spinner fa-pulse ms-1"},null,-1))),J=[O],Y={key:1,class:"w-100 d-flex flex-column align-items-center py-5"},G=A((()=>(0,s._)("i",{class:"fa-solid fa-triangle-exclamation text-primaryDark fa-2x mb-3"},null,-1))),j=A((()=>(0,s._)("p",{class:"fw-bold mb-4"},"購物車內沒有商品",-1))),E=[G,j],H={class:"d-flex align-items-center w-100"},R=["src","alt"],K={class:"w-100 me-4"},Q={class:"fw-bold"},X={class:"fw-bold text-primaryDark"},tt={key:0,class:"text-danger fs-small"},at={class:"input-group"},et={class:"input-group w-80 w-md-60"},st=["onClick"],ot=A((()=>(0,s._)("i",{class:"fa-solid fa-minus"},null,-1))),nt=[ot],lt=["max","onUpdate:modelValue","onChange"],it=["onClick"],rt=A((()=>(0,s._)("i",{class:"fa-solid fa-plus text-white"},null,-1))),ct=[rt],dt=["onClick"],pt=A((()=>(0,s._)("i",{class:"bi bi-trash text-primaryDark h3 cursor-pointer"},null,-1))),ut=[pt],mt={class:"p-3"},ft={class:"input-group mb-3"},vt={key:0,type:"text",class:"form-control",placeholder:"已套用優惠券",disabled:""},gt={class:"text-end mb-3"},ht=(0,s.Uk)(" 小計 : "),wt={class:"text-primary fw-bold"},_t={key:0,class:"text-secondaryDark fw-bold text-end mb-3"},bt=(0,s.Uk)("確認結帳");function kt(t,a,e,o,l,i){const r=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",N,[(0,s._)("div",{onClick:a[4]||(a[4]=(...t)=>i.dropdownMenu&&i.dropdownMenu(...t))},[P,(0,s._)("div",z,[(0,s._)("ul",F,[t.cartData.carts.length?((0,s.wg)(),(0,s.iD)("div",M,[(0,s._)("div",{class:"btn btn-light text-primaryDark fw-bold",onClick:a[0]||(a[0]=a=>t.delAllCart(t.cartData.carts))},[$,(0,s.wy)((0,s._)("span",null,J,512),[[L.F8,t.isLoadingItem===t.cartData.carts.id]])])])):(0,s.kq)("",!0),0===t.cartData.carts.length?((0,s.wg)(),(0,s.iD)("div",Y,E)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.cartData.carts,(a=>((0,s.wg)(),(0,s.iD)("li",{class:"d-flex justify-content-between align-items-center border-bottom-1 border-primaryLight p-3 ms-4 me-6",key:a.id},[(0,s._)("div",H,[(0,s.Wm)(r,{class:"overflow-hidden cursor-pointer me-4",to:`/product/${a.product.id}`},{default:(0,s.w5)((()=>[(0,s._)("img",{class:"imgbox_small",src:a.product.imageUrl,alt:a.product.title},null,8,R)])),_:2},1032,["to"]),(0,s._)("div",K,[(0,s._)("p",Q,(0,n.zw)(a.product.title),1),(0,s._)("p",X,[(0,s.Uk)("NT$ "+(0,n.zw)(a.product.price)+" ",1),a.qty>=a.product.inventory?((0,s.wg)(),(0,s.iD)("span",tt,"選取已達上限")):(0,s.kq)("",!0)]),(0,s._)("div",at,[(0,s._)("div",et,[(0,s._)("button",{class:(0,n.C_)(["btn btn-outline-primary",{disabled:a.qty<=1}]),type:"button",onClick:e=>t.updateCart(a,a.qty--)},nt,10,st),(0,s.wy)((0,s._)("input",{type:"number",class:"form-control text-center box-shadow-none fs-small",min:"1",max:a.product.inventory,"onUpdate:modelValue":t=>a.qty=t,onChange:e=>t.updateCart(a),readonly:""},null,40,lt),[[L.nr,a.qty,void 0,{lazy:!0}]]),(0,s._)("button",{class:(0,n.C_)(["btn btn-primary",{disabled:a.qty>=a.product.inventory}]),type:"button",onClick:e=>t.updateCart(a,a.qty++)},ct,10,it)])])])]),(0,s._)("div",{class:"delCartItem",onClick:e=>t.delCartItem(a)},ut,8,dt)])))),128))]),(0,s.wy)((0,s._)("div",mt,[(0,s._)("div",ft,[t.cartData.final_total!==t.cartData.total?((0,s.wg)(),(0,s.iD)("input",vt)):(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:1,type:"text",class:"form-control",placeholder:"輸入優惠券","onUpdate:modelValue":a[1]||(a[1]=a=>t.coupon_code=a),"aria-label":"coupon","aria-describedby":"coupon"},null,512)),[[L.nr,t.coupon_code]]),(0,s._)("button",{class:(0,n.C_)(["btn btn-primary text-white",{disabled:t.cartData.final_total!==t.cartData.total}]),type:"button",id:"coupon",onClick:a[2]||(a[2]=(...a)=>t.addCouponCode&&t.addCouponCode(...a))},"套用優惠券",2)]),(0,s._)("p",gt,[ht,(0,s._)("span",wt,"NT$ "+(0,n.zw)(t.cartData.total),1)]),t.cartData.final_total!==t.cartData.total?((0,s.wg)(),(0,s.iD)("p",_t," 應付金額 : NT$"+(0,n.zw)(l.final_total),1)):(0,s.kq)("",!0),(0,s.Wm)(r,{to:"/checkorder",class:"btn btn-primaryDark w-100",onClick:a[3]||(a[3]=t=>this.$refs.cart.click())},{default:(0,s.w5)((()=>[bt])),_:1})],512),[[L.F8,t.cartData.carts.length]])])])],512)}var yt=e(8262),Ct=e(4677),xt=e(6294),Dt={data(){return{final_total:""}},watch:{cartData:{handler(){this.final_total=Math.round(this.cartData.final_total)},deep:!0}},computed:{...(0,yt.rn)(Ct.Z,["cartData","coupon_code"]),...(0,yt.rn)(xt.Z,["isLoadingItem"])},methods:{...(0,yt.nv)(Ct.Z,["getCartList","updateCart","delCartItem","delAllCart","addCouponCode"]),dropdownMenu(t){t.stopPropagation()}},mounted(){this.getCartList()}},It=e(3744);const Tt=(0,It.Z)(Dt,[["render",kt],["__scopeId","data-v-ac07621e"]]);var St=Tt,Zt=e(9054),Wt=e(206),Ut={data(){return{navIconChange:!1}},components:{CartList:St},mixins:[Wt.Z],computed:{...(0,yt.rn)(Ct.Z,["cartData"]),...(0,yt.rn)(xt.Z,["isBounced"]),...(0,yt.rn)(Zt.Z,["anchorActive"])},methods:{...(0,yt.nv)(Ct.Z,["getCartList"]),...(0,yt.nv)(Zt.Z,["clickAnchor"]),navCollapseBack(){if(window.matchMedia("(max-width: 767px)").matches){const t=document.querySelector(".navbar-toggler");t.click()}}}};const Vt=(0,It.Z)(Ut,[["render",B]]);var qt=Vt;const Bt={class:"text-white bg-primaryOne"},Lt={class:"container"},At={class:"row row-cols-1 row-cols-lg-3 pt-3"},Nt={class:"col"},Pt={class:"text-left py-2"},zt=(0,s._)("img",{class:"logo w-40",src:l},null,-1),Ft={class:"col"},Mt={class:"text-center pt-4 pb-5"},$t={class:"my-1"},Ot=(0,s._)("i",{class:"fas fa-user-cog text-dark"},null,-1),Jt=(0,s._)("span",{class:"fs-5 ms-3"},"管理員登入",-1),Yt=(0,s._)("p",{class:""}," © 2022 FunTrip All Rights Reserved. ",-1),Gt=(0,s._)("span",{class:"text-primaryDark"}," 本網站僅供個人學習使用，無商業行為 ",-1),jt={class:"col mb-3 mb-md-0"},Et=(0,s._)("h3",{class:"text-center fw-bolder py-2"},"聯絡我們",-1),Ht={class:"d-flex justify-content-center text-dark"},Rt={class:"d-flex flex-column"},Kt={class:""},Qt=(0,s.Uk)(" 桃園市桃園區中山路 "),Xt={class:""},ta=(0,s.Uk)(" funtrip123@gmail.com "),aa={class:""},ea=(0,s.Uk)(" +886 908112333 ");function sa(t,a){const e=(0,s.up)("router-link"),o=(0,s.up)("font-awesome-icon");return(0,s.wg)(),(0,s.iD)("footer",Bt,[(0,s._)("div",Lt,[(0,s._)("div",At,[(0,s._)("div",Nt,[(0,s._)("div",Pt,[(0,s.Wm)(e,{to:"/"},{default:(0,s.w5)((()=>[zt])),_:1})])]),(0,s._)("div",Ft,[(0,s._)("div",Mt,[(0,s._)("div",$t,[(0,s.Wm)(e,{class:"me-4 h4",to:"/login"},{default:(0,s.w5)((()=>[Ot,Jt])),_:1})]),Yt,Gt])]),(0,s._)("div",jt,[Et,(0,s._)("div",Ht,[(0,s._)("div",Rt,[(0,s._)("span",Kt,[(0,s.Wm)(o,{icon:["fas","house"],class:"px-3"}),Qt]),(0,s._)("span",Xt,[(0,s.Wm)(o,{icon:["fas","envelope"],class:"px-3"}),ta]),(0,s._)("span",aa,[(0,s.Wm)(o,{icon:["fas","phone"],class:"px-3"}),ea])])])])])])])}const oa={},na=(0,It.Z)(oa,[["render",sa]]);var la=na,ia=e(5522);const ra={id:"goTop"};function ca(t,a,e,o,n,l){const i=(0,s.up)("font-awesome-icon");return(0,s.wg)(),(0,s.iD)("div",ra,[n.scY>300?((0,s.wg)(),(0,s.iD)("button",{key:0,type:"button",class:"goTop btn btn-primaryDark",onClick:a[0]||(a[0]=(...t)=>l.toTop&&l.toTop(...t))},[(0,s.Wm)(i,{icon:["fas","chevron-up"],class:"text-white"})])):(0,s.kq)("",!0)])}var da={name:"goTop",data(){return{scTimer:0,scY:0}},methods:{handleScroll(){this.scTimer||(this.scTimer=setTimeout((()=>{this.scY=window.scrollY,clearTimeout(this.scTimer),this.scTimer=0}),100))},toTop(){window.scrollTo({top:0,behavior:"smooth"})}},mounted(){window.addEventListener("scroll",this.handleScroll)},unmounted(){window.removeEventListener("scroll",this.handleScroll)}};const pa=(0,It.Z)(da,[["render",ca]]);var ua=pa,ma={components:{FrontNavbar:qt,FooterComponent:la,ToastMsg:ia.Z,GoTop:ua}};const fa=(0,It.Z)(ma,[["render",o]]);var va=fa},1412:function(t,a,e){t.exports=e.p+"img/logo01.8dec2bc3.png"}}]);
//# sourceMappingURL=930.cbb36556.js.map