"use strict";(self["webpackChunkebookstore"]=self["webpackChunkebookstore"]||[]).push([[965],{1965:function(t,e,s){s.r(e),s.d(e,{default:function(){return xt}});s(6699);var a=s(6252),i=s(9963),r=s(3577);const o=(0,a._)("div",{class:"spinner-border text-primary m-5",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1),n={class:"bg-light pb-10 product"},l=(0,a._)("div",{class:"product-banner"},null,-1),c={class:"container mt-md-n15 mt-n15"},d={class:"row justify-content-center"},u={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb "},p={class:"breadcrumb py-3 py-md-6 m-0"},m={class:"breadcrumb-item"},b=(0,a.Uk)("首頁"),h={class:"breadcrumb-item ps-1"},g={class:"breadcrumb-item ps-1 text-dark active","aria-current":"page"},w={class:"fs-6 fw-bold fs-md-6"},f={class:"row row-cols-1 row-cols-md-1 row-cols-lg-2 justify-content-md-center justify-content-start border-2 shadow rounded-lg-4 bg-white py-3 pt-5 ps-3"},_={class:"mb-3 px-lg-4"},y=["src","alt"],v={class:"mb-3 mb-md-0"},k={class:"mt-0"},x={class:"d-flex justify-content-between w-100"},L={class:"bg-third text-white fs-5 px-4 py-1 d-inline-block mb-2"},q={class:"px-1",style:{cursor:"pointer"}},C={class:"fs-2 fw-bold mb-3"},j={class:"mb-3"},P=["innerHTML"],T={class:"mb-4"},$={class:"list-unstyled"},M=(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fas fa-plane-departure"})],-1),U=(0,a.Uk)(" 出發地點 : "),z=(0,a._)("li",null,[(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fas fa-ticket"})]),(0,a.Uk)(" 包含所有門票 ")],-1),H=(0,a._)("li",null,[(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fas fa-bus"})]),(0,a.Uk)(" 提供飯店接送 ")],-1),S=(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fas fa-users"})],-1),W=(0,a.Uk)(" 成團人數 : "),V={class:"d-flex justify-content-between mb-2"},Z={class:"text-decoration-line-through text-gray"},D={class:"fs-5 fw-bolder"},I={class:"d-flex align-items-center"},B=["disabled"],N={for:"qty",class:"flex-fill"},Y=(0,a.Uk)(" 加入購物車 "),F={class:"mb-5 mt-5"},R=(0,a._)("h2",{class:"category fs-3 d-inline-block text-primaryDark fw-bold mb-4"},"行程介紹",-1),A=["innerHTML"],K={class:"container py-5"},O=(0,a._)("h2",{class:"text-center fw-bolder mb-4"},"更多行程選擇",-1),E={class:"px-0","data-aos":"fade","data-aos-duration":"1000"};function G(t,e,s,G,J,Q){const X=(0,a.up)("LoadingView"),tt=(0,a.up)("router-link"),et=(0,a.up)("font-awesome-icon"),st=(0,a.up)("Skeletor"),at=(0,a.up)("ProdSwiper");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(X,{class:"loading",active:J.isLoading},{default:(0,a.w5)((()=>[o])),_:1},8,["active"]),(0,a._)("div",n,[l,(0,a._)("div",c,[(0,a._)("div",d,[(0,a._)("nav",u,[(0,a._)("ol",p,[(0,a._)("li",m,[(0,a.Wm)(tt,{class:"text-dark fs-6 fs-md-6",to:"/"},{default:(0,a.w5)((()=>[b])),_:1})]),(0,a._)("li",h,[(0,a._)("a",{href:"#",class:"text-dark fs-6 fs-md-6",to:"/list",onClick:e[0]||(e[0]=(0,i.iM)(((...t)=>Q.transferCate&&Q.transferCate(...t)),["prevent"]))},"行程列表")]),(0,a._)("li",g,[(0,a._)("span",w,(0,r.zw)(J.product.title),1)])])]),(0,a._)("div",f,[(0,a._)("div",_,[(0,a._)("img",{class:"w-100",style:{height:"450px",width:"450px"},src:J.product.imageUrl,alt:J.product.title},null,8,y)]),(0,a._)("div",v,[(0,a._)("div",k,[(0,a._)("div",x,[(0,a._)("p",L,(0,r.zw)(J.product.category),1),(0,a._)("span",q,[t.favoriteId.includes(J.product.id)?((0,a.wg)(),(0,a.j4)(et,{key:0,icon:["fa","heart"],class:"fs-3 text-danger","data-bs-toggle":"tooltip","data-bs-placement":"buttom",title:"取消收藏",onClick:e[1]||(e[1]=(0,i.iM)((e=>t.toggleFavorite(J.product)),["prevent"]))})):((0,a.wg)(),(0,a.j4)(et,{key:1,icon:["far","heart"],class:"fs-3 text-danger","data-bs-toggle":"tooltip","data-bs-placement":"buttom",title:"加入收藏",onClick:e[2]||(e[2]=(0,i.iM)((e=>t.toggleFavorite(J.product)),["prevent"]))}))])]),(0,a._)("h2",C,(0,r.zw)(J.product.title),1)]),(0,a._)("div",j,[(0,a._)("p",{innerHTML:J.product.content},null,8,P)]),(0,a._)("div",T,[(0,a._)("ul",$,[(0,a._)("li",null,[M,U,J.isLoading?((0,a.wg)(),(0,a.j4)(st,{key:0,width:"25%"})):(0,a.kq)("",!0),(0,a.Uk)(" "+(0,r.zw)(J.product.start_city),1)]),z,H,(0,a._)("li",null,[S,W,J.isLoading?((0,a.wg)(),(0,a.j4)(st,{key:0,width:"25%"})):(0,a.kq)("",!0),(0,a.Uk)(" "+(0,r.zw)(J.product.team_qty)+" 人 ",1)])])]),(0,a._)("div",V,[(0,a._)("span",Z,"原價NT$ "+(0,r.zw)(J.product.origin_price)+"/人",1),(0,a._)("span",D,"現在只要NT$ "+(0,r.zw)(J.product.price)+"/人",1)]),(0,a._)("div",I,[(0,a._)("div",{class:"d-flex align-items-center flex-fill me-1",style:(0,r.j5)({cursor:1===J.quantity?"not-allowed":"pointer"})},[(0,a._)("button",{type:"button",class:"btn btn-primaryLight rounded-0 box-shadow-none",disabled:1===J.quantity,onClick:e[3]||(e[3]=t=>J.quantity--)}," - ",8,B),(0,a._)("label",N,[(0,a.wy)((0,a._)("input",{type:"number",id:"qty",class:"form-control text-center rounded-0",min:"1",max:"99","onUpdate:modelValue":e[4]||(e[4]=t=>J.quantity=t)},null,512),[[i.nr,J.quantity,void 0,{number:!0}]])]),(0,a._)("button",{type:"button",class:"btn btn-primaryLight rounded-0 box-shadow-none",onClick:e[5]||(e[5]=t=>J.quantity++)},"+")],4),(0,a._)("button",{type:"button",class:"btn btn-primaryLight flex-fill ms-1 rounded-0",onClick:e[6]||(e[6]=e=>t.addToCart(J.product,J.quantity))},[(0,a.Wm)(et,{icon:["fas","cart-plus"],class:"px-1"}),Y])])])])]),(0,a._)("div",F,[R,(0,a._)("p",{innerHTML:J.product.description},null,8,A)])]),(0,a._)("section",null,[(0,a._)("div",K,[O,(0,a._)("div",E,[(0,a.Wm)(at)])])])])],64)}var J=s(206);function Q(t,e,s,i,r,o){const n=(0,a.up)("Loading"),l=(0,a.up)("ProdCard"),c=(0,a.up)("router-link"),d=(0,a.up)("swiper-slide"),u=(0,a.up)("swiper");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(n,{active:r.isLoading},null,8,["active"]),(0,a.Wm)(u,{class:"px-3 py-2",modules:r.modules,"slides-per-view":1,"space-between":20,breakpoints:{576:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:20},992:{slidesPerView:3,spaceBetween:20},1200:{slidesPerView:4,spaceBetween:20}},autoplay:{delay:3e3,disableOnInteraction:!1}},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.products,(t=>((0,a.wg)(),(0,a.j4)(d,{key:t.id},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{to:`/product/${t.id}`},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{product:t},null,8,["product"])])),_:2},1032,["to"])])),_:2},1024)))),128))])),_:1},8,["modules"])],64)}var X=s(1911),tt=s(3181);const et={class:"custom-card card w-100 h-100 shadow-sm",style:{width:"18rem"}},st={class:"custom-img"},at=["src"],it={class:"card-body p-3"},rt={class:"card-title fw-bolder mb-3"},ot=["innerHTML"],nt={class:"d-flex justify-content-between align-items-center"},lt={class:"text-gray text-decoration-line-through mb-0"},ct={class:"fs-5 fw-bolder mb-0"};function dt(t,e,s,i,o,n){return(0,a.wg)(),(0,a.iD)("div",et,[(0,a._)("div",st,[(0,a._)("img",{src:s.product.imageUrl,class:"card-img-top cover-fit",alt:"rot1"},null,8,at)]),(0,a._)("div",it,[(0,a._)("h5",rt,(0,r.zw)(s.product.title),1),(0,a._)("p",{class:"card-text mb-2",style:{height:"1.5rem",overflow:"hidden"},innerHTML:s.product.content},null,8,ot),(0,a._)("div",nt,[(0,a._)("p",lt," NT$ "+(0,r.zw)(s.product.origin_price)+"/人 ",1),(0,a._)("p",ct,"NT$ "+(0,r.zw)(s.product.price)+"/人",1)])])])}var ut={data(){return{}},props:["product"]},pt=s(3744);const mt=(0,pt.Z)(ut,[["render",dt]]);var bt=mt,ht={components:{Swiper:tt.tq,SwiperSlide:tt.o5,ProdCard:bt},data(){return{isLoading:!1,products:[],modules:[X.s5,X.pt]}},inject:["mitt"],methods:{getProducts(){this.isLoading=!0,this.$http.get("https://vue3-course-api.hexschool.io/api/claire-api/products/all").then((t=>{this.isLoading=!1;const{products:e}=t.data;this.products=e,this.getRandom()}))},getRandom(){const t=[];for(let e=0;e<10;e+=1){const e=Math.floor(Math.random()*this.products.length);t.push(this.products[e]),this.products.splice(e,1)}this.products=t}},mounted(){this.getProducts()}};const gt=(0,pt.Z)(ht,[["render",Q]]);var wt=gt,ft=s(8262),_t=s(4677),yt=s(6294),vt={mixins:[J.Z],components:{ProdSwiper:wt},data(){return{product:[],isLoading:!1,quantity:1}},watch:{product:{},quantity(){this.quantity<=0&&(this.quantity=1)},$route(){void 0!==this.$route.params.id&&this.getProduct()}},computed:{...(0,ft.rn)(_t.Z,["cartData"]),...(0,ft.rn)(yt.Z,["isLoadingItem"])},methods:{...(0,ft.nv)(_t.Z,["addToCart"]),getProduct(){const t=this.$route.params.id;this.isLoading=!0,this.$http.get(`https://vue3-course-api.hexschool.io/api/claire-api/product/${t}`).then((t=>{this.product=t.data.product,this.isLoading=!1,this.resentlyViewed(this.product)})).catch((()=>{this.isLoading=!1}))},transferCate(){this.$router.push("/list"),localStorage.setItem("category",this.product.category),localStorage.setItem("isActive",this.product.category)}},mounted(){this.getProduct()}};const kt=(0,pt.Z)(vt,[["render",G]]);var xt=kt}}]);
//# sourceMappingURL=965.22ed787c.js.map