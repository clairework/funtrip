"use strict";(self["webpackChunkebookstore"]=self["webpackChunkebookstore"]||[]).push([[92],{206:function(t,e,i){var s=i(8262),o=i(6294),r=i(6455),l=i.n(r);e["Z"]={data(){return{favorite:JSON.parse(localStorage.getItem("favorite"))||[],favoriteId:JSON.parse(localStorage.getItem("favoriteId"))||[],resentlyViewdProducts:JSON.parse(localStorage.getItem("resentlyViewdProducts"))||[]}},watch:{favorite:{handler(){localStorage.setItem("favorite",JSON.stringify(this.favorite))},deep:!0},favoriteId:{handler(){localStorage.setItem("favoriteId",JSON.stringify(this.favoriteId))},deep:!0},resentlyViewdProducts:{handler(){localStorage.setItem("resentlyViewdProducts",JSON.stringify(this.resentlyViewdProducts))},deep:!0}},methods:{...(0,s.nv)(o.Z,["pushMsg"]),toggleFavorite(t){const e=this.favorite.findIndex((e=>e.id===t.id));-1===e?(this.favorite.push(t),this.favoriteId.push(t.id),l().fire({position:"center",icon:"success",title:"已成功收藏",showConfirmButton:!1,timer:2e3})):(this.favorite.splice(e,1),this.favoriteId.splice(e,1),l().fire({position:"center",icon:"warning",title:"已取消收藏",showConfirmButton:!1,timer:2e3})),this.emitter.emit("getfavorite")},removeFavoriteItem(t){const e=this.favorite.findIndex((e=>e.id===t.id));this.favorite.splice(e,1),this.favoriteId.splice(e,1),l().fire({position:"center",icon:"warning",title:"已取消收藏",showConfirmButton:!1,timer:2e3})},getLocalStorage(){return JSON.parse(localStorage.getItem("favorite"))},resentlyViewed(t){const e=this.resentlyViewdProducts.findIndex((e=>e.id===t.id));-1===e?(this.resentlyViewdProducts.unshift(t),this.resentlyViewdProducts.length>10&&this.resentlyViewdProducts.pop()):-1!==e&&(this.resentlyViewdProducts.splice(e,1),this.resentlyViewdProducts.unshift(t))}}}},5092:function(t,e,i){i.r(e),i.d(e,{default:function(){return j}});var s=i(6252),o=i(9963),r=i(3577);const l=(0,s._)("div",{class:"spinner-border text-primary m-5",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),a={class:"bg-light"},n=(0,s._)("div",{class:"favorite-banner"},[(0,s._)("div",{class:"container"},[(0,s._)("div",{class:"title"},[(0,s._)("h2",{class:"text-white text-center"},"我的收藏行程")])])],-1),c={class:"favorite-base section_favorites"},d={class:"container"},f=(0,s._)("h3",{class:"border-bottom pb-3 mb-3 text-end"},"收藏清單列表",-1),m={key:0},u={class:"list-group"},g={class:"custom-icon"},v=["onClick"],p=(0,s._)("i",{class:"fas fa-times fs-4"},null,-1),h=[p],w={class:"row"},_={class:"col-5 col-sm-5 col-md-4 col-lg-3 mt-2"},b={class:"img-wrap pl-3"},y=["src"],I={class:"col-7 col-sm-7 col-md-8 col-lg-9 mt-2 mt-md-0 d-flex align-items-center"},k={class:"row flex-fill align-items-center"},x={class:"col-sm-12 col-md-4 col-lg-5"},S={class:"text-start mb-0 fw-bold pr-4 fs-5 text-primaryDark"},P={class:"col-sm-12 col-md-4 col-lg-5"},V={class:"prices"},C={class:"price_origin fs-5"},D={class:"col-sm-12 col-md-4 col-lg-2 text-center py-2"},Z=["onClick"],J=(0,s.Uk)(" 了解更多 "),L=(0,s._)("span",null,[(0,s._)("i",{class:"fas fa-chevron-right"})],-1),N=[J,L],O={key:1},M={class:"text-center"},B={class:"bg-light py-5 px-2 px-sm-5"},E=(0,s._)("h2",{class:"mb-5 fw-bolder"},"尚無行程加入收藏",-1),F=(0,s.Uk)(" 把喜歡的行程加入收藏吧 ! ");function U(t,e,i,p,J,L){const U=(0,s.up)("LoadingView"),z=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(U,{class:"loading",active:t.isLoading},{default:(0,s.w5)((()=>[l])),_:1},8,["active"]),(0,s._)("div",a,[n,(0,s._)("section",c,[(0,s._)("div",d,[f,t.favorite.length?((0,s.wg)(),(0,s.iD)("div",m,[(0,s._)("ul",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.favorite,(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.id,class:"border-0 custom-item favbox list-group-item bg-lightDark shadow-sm align-items-center mb-4"},[(0,s._)("span",g,[(0,s._)("a",{href:"#",class:"del-icon",onClick:(0,o.iM)((i=>t.removeFavoriteItem(e)),["prevent"])},h,8,v)]),(0,s._)("div",w,[(0,s._)("div",_,[(0,s._)("div",b,[(0,s._)("img",{class:"rounded-2",src:e.imageUrl},null,8,y)])]),(0,s._)("div",I,[(0,s._)("div",k,[(0,s._)("div",x,[(0,s._)("p",S,(0,r.zw)(e.title),1)]),(0,s._)("div",P,[(0,s._)("p",V,[(0,s._)("span",C," 價格："+(0,r.zw)(e.price)+"/人",1)])]),(0,s._)("div",D,[(0,s._)("button",{type:"button",class:"position-absolute bottom-0 mb-3 mt-2 btn btn-secondary rounded-5",onClick:(0,o.iM)((t=>L.toProduct(e.id)),["prevent"]),style:{right:"15px"}},N,8,Z)])])])])])))),128))])])):((0,s.wg)(),(0,s.iD)("div",O,[(0,s._)("div",M,[(0,s._)("div",B,[E,(0,s.Wm)(z,{class:"btn btn-secondary fs-5 fw-bolder",to:"/list"},{default:(0,s.w5)((()=>[F])),_:1})])])]))])])])],64)}var z=i(206),H=i(8262),W=i(4677),Y=i(6294),$={mixins:[z.Z],data(){return{}},components:{},computed:{...(0,H.rn)(W.Z,["cartData"]),...(0,H.rn)(Y.Z,["isLoadingItem","isLoadingItem","isLoading"])},methods:{...(0,H.nv)(W.Z,["addToCart"]),...(0,H.nv)(Y.Z,["loadingEffect","loadingItemEffect","pushMsg"]),toProduct(t){this.$router.push(`/product/${t}`)}},mounted(){this.loadingEffect()}},K=i(3744);const T=(0,K.Z)($,[["render",U]]);var j=T}}]);
//# sourceMappingURL=92.1b3a3819.js.map