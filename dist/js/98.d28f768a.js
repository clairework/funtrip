"use strict";(self["webpackChunkebookstore"]=self["webpackChunkebookstore"]||[]).push([[98],{8013:function(t,s,r){r.r(s),r.d(s,{default:function(){return yt}});var e=r(6252),a=r(9963),l=r(3577),i=r.p+"img/loading.8a13cb6e.gif";const d=(0,e._)("img",{src:i,alt:"Loading"},null,-1),c={class:"window-height bg-light"},o={class:"container"},n={class:"row justify-content-center"},u={class:"col-md-6 py-6 py-md-10"},p={class:"input-group me-2 mt-5 mb-5"},m=(0,e._)("button",{class:"btn btn-primary",type:"submit",id:"button-addon2"},[(0,e._)("i",{class:"fa-solid fa-magnifying-glass text-white"})],-1),h={class:"container"},_={key:0,class:"d-flex flex-column justify-content-center min-h-50vh py-5"},w=(0,e._)("i",{class:"fs-1 far fa-arrow-alt-circle-up text-primaryDark fa-2x mb-3"},null,-1),y=(0,e._)("p",{class:"text-center fw-bold mb-4 h4"},"請輸入訂單編號",-1),b=[w,y],x={key:1,class:"row justify-content-center pt-5"},g={class:"col-12 col-xl-8"},f={class:"d-flex justify-content-between align-items-center mb-4"},k=(0,e._)("p",{class:"text-primaryDark fw-bold fs-3 p-2"},"訂單內容",-1),D={class:"d-flex"},v={key:0,class:"text-primaryDark fw-bold me-2"},O={key:1,class:"text-primaryDark fw-bold me-2"},z={class:"switch"},L=(0,e._)("span",{class:"slider cursor-default"},null,-1),q={class:"table align-middle"},$=(0,e._)("thead",null,[(0,e._)("tr",null,[(0,e._)("th",{class:"d-none d-md-table-cell text-start",width:"40%"},"名稱"),(0,e._)("th",{class:"d-none d-md-table-cell text-start",width:"30%"},"單價"),(0,e._)("th",{class:"d-none d-md-table-cell text-center",width:"30%"},"數量")])],-1),j={class:"d-flex align-items-center p-3"},M=["src","alt"],S={class:"cart-body text-start"},U={class:"fw-bold"},V={class:"fw-bold"},C={key:0,class:"text-danger fw-bold"},H={width:"20%"},N={class:"fw-bold text-primaryDark"},T={class:"text-center",width:"20%"},Y={class:"text-primaryDark fw-bold text-end mb-3 fs-md-4"},Z={class:"col-12 col-xl-4 mb-5"},E=(0,e._)("p",{class:"text-primaryDark fw-bold fs-3 p-2 text-center mb-3"},"用戶資訊",-1),F={class:"p-5 bg-primaryFour shadow-sm"},K={class:"table mb-5 mb-md-0 fs-6 ms-3 w-90 border-primaryOne pb-5"},W={class:"text-start"},A=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"下單時間",-1),B={class:"text-primaryDark"},G={class:"text-start"},I=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"Email",-1),J={class:"text-primaryDark"},P={class:"text-start"},Q=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"收件人姓名",-1),R={class:"text-primaryDark"},X={class:"text-start"},tt=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"電話號碼",-1),st={class:"text-primaryDark"},rt={class:"text-start"},et=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"收件地址",-1),at={class:"text-primaryDark"},lt={key:0,class:"text-start"},it=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"付款方式",-1),dt={class:"text-primaryDark"},ct={key:1,class:"text-start"},ot=(0,e._)("th",{class:"text-primaryDark",scope:"row"},"備註",-1),nt={class:"text-primaryDark"};function ut(t,s,r,i,w,y){const ut=(0,e.up)("LoadingView");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(ut,{class:"loading",active:w.isLoading},{default:(0,e.w5)((()=>[d])),_:1},8,["active"]),(0,e._)("div",c,[(0,e._)("div",o,[(0,e._)("div",n,[(0,e._)("div",u,[(0,e._)("div",p,[(0,e.wy)((0,e._)("input",{class:"form-control",type:"search","onUpdate:modelValue":s[0]||(s[0]=t=>w.search=t),placeholder:"請輸入訂單編號","aria-label":"Search","aria-describedby":"button-addon2"},null,512),[[a.nr,w.search,void 0,{lazy:!0,trim:!0}]]),m])])])]),(0,e._)("div",h,[w.userOrder.id?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("div",_,b)),w.userOrder.id?((0,e.wg)(),(0,e.iD)("div",x,[(0,e._)("div",g,[(0,e._)("div",f,[k,(0,e._)("div",D,[w.userOrder.is_paid?((0,e.wg)(),(0,e.iD)("span",v,"已付款")):((0,e.wg)(),(0,e.iD)("span",O,"未付款")),(0,e._)("label",z,[(0,e.wy)((0,e._)("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=t=>w.userOrder.is_paid=t),disabled:""},null,512),[[a.e8,w.userOrder.is_paid]]),L])])]),(0,e._)("table",q,[$,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(w.userOrder.products,(t=>((0,e.wg)(),(0,e.iD)("tr",{key:t.id},[(0,e._)("td",null,[(0,e._)("div",j,[(0,e._)("img",{class:"imgbox_small1 me-4",src:t.product.imageUrl,alt:t.product.title},null,8,M),(0,e._)("div",S,[(0,e._)("p",U,(0,l.zw)(t.product.title),1),(0,e._)("p",V,(0,l.zw)(t.product.author),1),t.coupon?((0,e.wg)(),(0,e.iD)("p",C,"已套用優惠券")):(0,e.kq)("",!0)])])]),(0,e._)("td",H,[(0,e._)("p",N,"NT$ "+(0,l.zw)(t.product.price),1)]),(0,e._)("td",T,[(0,e._)("p",null,"x "+(0,l.zw)(t.qty),1)])])))),128))])]),(0,e._)("div",null,[(0,e._)("p",Y," 應付金額 : NT$"+(0,l.zw)(Math.round(w.userOrder.total)),1)])]),(0,e._)("div",Z,[E,(0,e._)("div",F,[(0,e._)("table",K,[(0,e._)("tbody",null,[(0,e._)("tr",W,[A,(0,e._)("td",B,(0,l.zw)(t.$filters.date(w.userOrder.create_at)),1)]),(0,e._)("tr",G,[I,(0,e._)("td",J,(0,l.zw)(w.userOrder.user.email),1)]),(0,e._)("tr",P,[Q,(0,e._)("td",R,(0,l.zw)(w.userOrder.user.name),1)]),(0,e._)("tr",X,[tt,(0,e._)("td",st,(0,l.zw)(w.userOrder.user.tel),1)]),(0,e._)("tr",rt,[et,(0,e._)("td",at,(0,l.zw)(w.userOrder.user.address),1)]),w.userOrder.user.payment?((0,e.wg)(),(0,e.iD)("tr",lt,[it,(0,e._)("td",dt,(0,l.zw)(w.userOrder.user.payment),1)])):(0,e.kq)("",!0),w.userOrder.message?((0,e.wg)(),(0,e.iD)("tr",ct,[ot,(0,e._)("td",nt,(0,l.zw)(w.userOrder.message),1)])):(0,e.kq)("",!0)])])])])])):(0,e.kq)("",!0)])])],64)}r(6699);var pt=r(8262),mt=r(6294),ht={data(){return{userOrder:{user:{},products:{}},search:"",isLoading:!1}},watch:{search:{handler(){""===this.search?this.userOrder={}:this.getOrders(this.search)},deer:!0}},methods:{...(0,pt.nv)(mt.Z,["pushMsg"]),getOrders(t){this.search.length<20||!this.search.includes("-")?this.pushMsg(!1,"搜尋","請重新搜尋"):(this.isLoading=!0,this.$http.get(`https://vue3-course-api.hexschool.io/api/claire-api/order/${t}`).then((t=>{this.isLoading=!1,this.userOrder=t.data.order,this.userOrder.orderStatus||(this.userOrder.orderStatus="已收到訂單")})).catch((()=>{this.isLoading=!1,this.pushMsg(!1,"搜尋","請重新搜尋")})))}}},_t=r(3744);const wt=(0,_t.Z)(ht,[["render",ut]]);var yt=wt}}]);
//# sourceMappingURL=98.d28f768a.js.map