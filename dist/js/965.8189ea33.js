"use strict";(self["webpackChunkebookstore"]=self["webpackChunkebookstore"]||[]).push([[965],{206:function(t,e,s){var i=s(8262),r=s(6294),a=s(6455),o=s.n(a);e["Z"]={data(){return{favorite:JSON.parse(localStorage.getItem("favorite"))||[],favoriteId:JSON.parse(localStorage.getItem("favoriteId"))||[],resentlyViewdProducts:JSON.parse(localStorage.getItem("resentlyViewdProducts"))||[]}},watch:{favorite:{handler(){localStorage.setItem("favorite",JSON.stringify(this.favorite))},deep:!0},favoriteId:{handler(){localStorage.setItem("favoriteId",JSON.stringify(this.favoriteId))},deep:!0},resentlyViewdProducts:{handler(){localStorage.setItem("resentlyViewdProducts",JSON.stringify(this.resentlyViewdProducts))},deep:!0}},methods:{...(0,i.nv)(r.Z,["pushMsg"]),toggleFavorite(t){const e=this.favorite.findIndex((e=>e.id===t.id));-1===e?(this.favorite.push(t),this.favoriteId.push(t.id),o().fire({position:"center",icon:"success",title:"已成功收藏",showConfirmButton:!1,timer:2e3})):(this.favorite.splice(e,1),this.favoriteId.splice(e,1),o().fire({position:"center",icon:"warning",title:"已取消收藏",showConfirmButton:!1,timer:2e3})),this.emitter.emit("getfavorite")},removeFavoriteItem(t){const e=this.favorite.findIndex((e=>e.id===t.id));this.favorite.splice(e,1),this.favoriteId.splice(e,1),o().fire({position:"center",icon:"warning",title:"已取消收藏",showConfirmButton:!1,timer:2e3})},getLocalStorage(){return JSON.parse(localStorage.getItem("favorite"))},resentlyViewed(t){const e=this.resentlyViewdProducts.findIndex((e=>e.id===t.id));-1===e?(this.resentlyViewdProducts.unshift(t),this.resentlyViewdProducts.length>10&&this.resentlyViewdProducts.pop()):-1!==e&&(this.resentlyViewdProducts.splice(e,1),this.resentlyViewdProducts.unshift(t))}}}},1965:function(t,e,s){s.r(e),s.d(e,{default:function(){return kt}});s(6699);var i=s(6252),r=s(9963),a=s(3577);const o=(0,i._)("div",{class:"spinner-border text-primary m-5",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1),n={class:"bg-light pb-10 product"},d=(0,i._)("div",{class:"product-banner"},null,-1),l={class:"container mt-md-n15 mt-n15"},c={class:"row justify-content-center"},u={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb "},p={class:"breadcrumb py-3 py-md-6 m-0"},m={class:"breadcrumb-item"},h=(0,i.Uk)("首頁"),f={class:"breadcrumb-item ps-1"},g={class:"breadcrumb-item ps-1 text-dark active","aria-current":"page"},w={class:"fs-6 fw-bold fs-md-6"},b={class:"row row-cols-1 row-cols-md-1 row-cols-lg-2 justify-content-md-center justify-content-start border-2 shadow rounded-lg-4 bg-white py-3 pt-5 ps-3"},v={class:"mb-3 px-lg-4"},y=["src","alt"],_={class:"mb-3 mb-md-0"},x={class:"mt-0"},k={class:"d-flex justify-content-between w-100"},L={class:"bg-third text-white fs-5 px-4 py-1 d-inline-block mb-2"},I={class:"px-1",style:{cursor:"pointer"}},P={class:"fs-2 fw-bold mb-3"},S={class:"mb-3"},V=["innerHTML"],C={class:"mb-4"},q={class:"list-unstyled"},j=(0,i._)("span",{class:"icon"},[(0,i._)("i",{class:"fas fa-plane-departure"})],-1),M=(0,i.Uk)(" 出發地點 : "),T=(0,i._)("li",null,[(0,i._)("span",{class:"icon"},[(0,i._)("i",{class:"fas fa-ticket"})]),(0,i.Uk)(" 包含所有門票 ")],-1),$=(0,i._)("li",null,[(0,i._)("span",{class:"icon"},[(0,i._)("i",{class:"fas fa-bus"})]),(0,i.Uk)(" 提供飯店接送 ")],-1),N=(0,i._)("span",{class:"icon"},[(0,i._)("i",{class:"fas fa-users"})],-1),U=(0,i.Uk)(" 成團人數 : "),z={class:"d-flex justify-content-between mb-2"},H={class:"text-decoration-line-through text-gray"},Z={class:"fs-5 fw-bolder"},O={class:"d-flex align-items-center"},W=["disabled"],B={for:"qty",class:"flex-fill"},J=(0,i.Uk)(" 加入購物車 "),D={class:"mb-5 mt-5"},F=(0,i._)("h2",{class:"category fs-3 d-inline-block text-primaryDark fw-bold mb-4"},"行程介紹",-1),Y=["innerHTML"],R={class:"container py-5"},A=(0,i._)("h2",{class:"text-center fw-bolder mb-4"},"更多行程選擇",-1),K={class:"px-0","data-aos":"fade","data-aos-duration":"1000"};function E(t,e,s,E,G,Q){const X=(0,i.up)("LoadingView"),tt=(0,i.up)("router-link"),et=(0,i.up)("font-awesome-icon"),st=(0,i.up)("Skeletor"),it=(0,i.up)("ProdSwiper");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(X,{class:"loading",active:G.isLoading},{default:(0,i.w5)((()=>[o])),_:1},8,["active"]),(0,i._)("div",n,[d,(0,i._)("div",l,[(0,i._)("div",c,[(0,i._)("nav",u,[(0,i._)("ol",p,[(0,i._)("li",m,[(0,i.Wm)(tt,{class:"text-dark fs-6 fs-md-6",to:"/"},{default:(0,i.w5)((()=>[h])),_:1})]),(0,i._)("li",f,[(0,i._)("a",{href:"#",class:"text-dark fs-6 fs-md-6",to:"/list",onClick:e[0]||(e[0]=(0,r.iM)(((...t)=>Q.transferCate&&Q.transferCate(...t)),["prevent"]))},"行程列表")]),(0,i._)("li",g,[(0,i._)("span",w,(0,a.zw)(G.product.title),1)])])]),(0,i._)("div",b,[(0,i._)("div",v,[(0,i._)("img",{class:"w-100",style:{height:"450px",width:"450px"},src:G.product.imageUrl,alt:G.product.title},null,8,y)]),(0,i._)("div",_,[(0,i._)("div",x,[(0,i._)("div",k,[(0,i._)("p",L,(0,a.zw)(G.product.category),1),(0,i._)("span",I,[t.favoriteId.includes(G.product.id)?((0,i.wg)(),(0,i.j4)(et,{key:0,icon:["fa","heart"],class:"fs-3 text-danger","data-bs-toggle":"tooltip","data-bs-placement":"buttom",title:"取消收藏",onClick:e[1]||(e[1]=(0,r.iM)((e=>t.toggleFavorite(G.product)),["prevent"]))})):((0,i.wg)(),(0,i.j4)(et,{key:1,icon:["far","heart"],class:"fs-3 text-danger","data-bs-toggle":"tooltip","data-bs-placement":"buttom",title:"加入收藏",onClick:e[2]||(e[2]=(0,r.iM)((e=>t.toggleFavorite(G.product)),["prevent"]))}))])]),(0,i._)("h2",P,(0,a.zw)(G.product.title),1)]),(0,i._)("div",S,[(0,i._)("p",{innerHTML:G.product.content},null,8,V)]),(0,i._)("div",C,[(0,i._)("ul",q,[(0,i._)("li",null,[j,M,G.isLoading?((0,i.wg)(),(0,i.j4)(st,{key:0,width:"25%"})):(0,i.kq)("",!0),(0,i.Uk)(" "+(0,a.zw)(G.product.start_city),1)]),T,$,(0,i._)("li",null,[N,U,G.isLoading?((0,i.wg)(),(0,i.j4)(st,{key:0,width:"25%"})):(0,i.kq)("",!0),(0,i.Uk)(" "+(0,a.zw)(G.product.team_qty)+" 人 ",1)])])]),(0,i._)("div",z,[(0,i._)("span",H,"原價NT$ "+(0,a.zw)(G.product.origin_price)+"/人",1),(0,i._)("span",Z,"現在只要NT$ "+(0,a.zw)(G.product.price)+"/人",1)]),(0,i._)("div",O,[(0,i._)("div",{class:"d-flex align-items-center flex-fill me-1",style:(0,a.j5)({cursor:1===G.quantity?"not-allowed":"pointer"})},[(0,i._)("button",{type:"button",class:"btn btn-primaryLight rounded-0 box-shadow-none",disabled:1===G.quantity,onClick:e[3]||(e[3]=t=>G.quantity--)}," - ",8,W),(0,i._)("label",B,[(0,i.wy)((0,i._)("input",{type:"number",id:"qty",class:"form-control text-center rounded-0",min:"1",max:"99","onUpdate:modelValue":e[4]||(e[4]=t=>G.quantity=t)},null,512),[[r.nr,G.quantity,void 0,{number:!0}]])]),(0,i._)("button",{type:"button",class:"btn btn-primaryLight rounded-0 box-shadow-none",onClick:e[5]||(e[5]=t=>G.quantity++)},"+")],4),(0,i._)("button",{type:"button",class:"btn btn-primaryLight flex-fill ms-1 rounded-0",onClick:e[6]||(e[6]=e=>t.addToCart(G.product,G.quantity))},[(0,i.Wm)(et,{icon:["fas","cart-plus"],class:"px-1"}),J])])])])]),(0,i._)("div",D,[F,(0,i._)("p",{innerHTML:G.product.description},null,8,Y)])]),(0,i._)("section",null,[(0,i._)("div",R,[A,(0,i._)("div",K,[(0,i.Wm)(it)])])])])],64)}var G=s(206);function Q(t,e,s,r,a,o){const n=(0,i.up)("Loading"),d=(0,i.up)("ProdCard"),l=(0,i.up)("router-link"),c=(0,i.up)("swiper-slide"),u=(0,i.up)("swiper");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(n,{active:a.isLoading},null,8,["active"]),(0,i.Wm)(u,{class:"px-3 py-2",modules:a.modules,"slides-per-view":1,"space-between":20,breakpoints:{576:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:20},992:{slidesPerView:3,spaceBetween:20},1200:{slidesPerView:4,spaceBetween:20}},autoplay:{delay:3e3,disableOnInteraction:!1}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.products,(t=>((0,i.wg)(),(0,i.j4)(c,{key:t.id},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{to:`/product/${t.id}`},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{product:t},null,8,["product"])])),_:2},1032,["to"])])),_:2},1024)))),128))])),_:1},8,["modules"])],64)}var X=s(1911),tt=s(3181);const et={class:"custom-card card w-100 h-100 shadow-sm",style:{width:"18rem"}},st={class:"custom-img"},it=["src"],rt={class:"card-body p-3"},at={class:"card-title fw-bolder mb-3"},ot=["innerHTML"],nt={class:"d-flex justify-content-between align-items-center"},dt={class:"text-gray text-decoration-line-through mb-0"},lt={class:"fs-5 fw-bolder mb-0"};function ct(t,e,s,r,o,n){return(0,i.wg)(),(0,i.iD)("div",et,[(0,i._)("div",st,[(0,i._)("img",{src:s.product.imageUrl,class:"card-img-top cover-fit",alt:"rot1"},null,8,it)]),(0,i._)("div",rt,[(0,i._)("h5",at,(0,a.zw)(s.product.title),1),(0,i._)("p",{class:"card-text mb-2",style:{height:"1.5rem",overflow:"hidden"},innerHTML:s.product.content},null,8,ot),(0,i._)("div",nt,[(0,i._)("p",dt," NT$ "+(0,a.zw)(s.product.origin_price)+"/人 ",1),(0,i._)("p",lt,"NT$ "+(0,a.zw)(s.product.price)+"/人",1)])])])}var ut={data(){return{}},props:["product"]},pt=s(3744);const mt=(0,pt.Z)(ut,[["render",ct]]);var ht=mt,ft={components:{Swiper:tt.tq,SwiperSlide:tt.o5,ProdCard:ht},data(){return{isLoading:!1,products:[],modules:[X.s5,X.pt]}},inject:["mitt"],methods:{getProducts(){this.isLoading=!0,this.$http.get("https://vue3-course-api.hexschool.io/api/claire-api/products/all").then((t=>{this.isLoading=!1;const{products:e}=t.data;this.products=e,this.getRandom()}))},getRandom(){const t=[];for(let e=0;e<10;e+=1){const e=Math.floor(Math.random()*this.products.length);t.push(this.products[e]),this.products.splice(e,1)}this.products=t}},mounted(){this.getProducts()}};const gt=(0,pt.Z)(ft,[["render",Q]]);var wt=gt,bt=s(8262),vt=s(4677),yt=s(6294),_t={mixins:[G.Z],components:{ProdSwiper:wt},data(){return{product:[],isLoading:!1,quantity:1}},watch:{product:{},quantity(){this.quantity<=0&&(this.quantity=1)},$route(){void 0!==this.$route.params.id&&this.getProduct()}},computed:{...(0,bt.rn)(vt.Z,["cartData"]),...(0,bt.rn)(yt.Z,["isLoadingItem"])},methods:{...(0,bt.nv)(vt.Z,["addToCart"]),getProduct(){const t=this.$route.params.id;this.isLoading=!0,this.$http.get(`https://vue3-course-api.hexschool.io/api/claire-api/product/${t}`).then((t=>{this.product=t.data.product,this.isLoading=!1,this.resentlyViewed(this.product)})).catch((()=>{this.isLoading=!1}))},transferCate(){this.$router.push("/list"),localStorage.setItem("category",this.product.category),localStorage.setItem("isActive",this.product.category)}},mounted(){this.getProduct()}};const xt=(0,pt.Z)(_t,[["render",E]]);var kt=xt}}]);
//# sourceMappingURL=965.8189ea33.js.map