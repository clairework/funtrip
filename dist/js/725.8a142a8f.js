"use strict";(self["webpackChunkebookstore"]=self["webpackChunkebookstore"]||[]).push([[725],{7918:function(t,s,e){e.r(s),e.d(s,{default:function(){return Lt}});e(6699);var a=e(6252),i=e(9963),r=e(3577);const o=(0,a._)("div",{class:"spinner-border text-primary m-5",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1),n={class:"bg-light pb-10 product"},c=(0,a._)("div",{class:"product-banner"},null,-1),l={class:"container mt-md-n15 mt-n15"},d={class:"row justify-content-center"},u={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb "},p={class:"breadcrumb py-3 py-md-6 m-0"},m={class:"breadcrumb-item"},b=(0,a.Uk)("首頁"),h={class:"breadcrumb-item ps-1"},g={class:"breadcrumb-item ps-1 text-dark active","aria-current":"page"},w={class:"fs-6 fw-bold fs-md-6"},f={class:"row row-cols-1 row-cols-md-1 row-cols-lg-2 justify-content-md-center justify-content-start border-2 shadow rounded-lg-4 bg-white py-3 pt-5 ps-3"},_={class:"mb-3 px-lg-4"},y=["src","alt"],v={class:"mb-3 mb-md-0"},k={class:"mt-0"},x={class:"d-flex justify-content-between w-100"},L={class:"bg-third text-white fs-5 px-4 py-1 d-inline-block mb-2"},q={class:"px-1",style:{cursor:"pointer"}},C={class:"fs-2 fw-bold mb-3"},j={class:"mb-3"},P=["innerHTML"],T={class:"mb-4"},$={class:"list-unstyled"},M=(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fas fa-plane-departure"})],-1),z=(0,a.Uk)(" 出發地點 : "),U=(0,a._)("li",null,[(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fas fa-ticket"})]),(0,a.Uk)(" 包含門票 ")],-1),H=(0,a._)("li",null,[(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fas fa-bus"})]),(0,a.Uk)(" 團體旅行 ")],-1),S=(0,a._)("span",{class:"icon"},[(0,a._)("i",{class:"fas fa-users"})],-1),W={class:"d-flex justify-content-between mb-2"},V={class:"text-decoration-line-through text-gray"},Z={class:"fs-5 fw-bolder"},D={class:"d-flex align-items-center"},I=["disabled"],B={for:"qty",class:"flex-fill"},N=(0,a.Uk)(" 加入購物車 "),Y={class:"mb-5 mt-5 text-center"},F=(0,a._)("span",{class:"icon icon-intro"},[(0,a._)("i",{class:"fas fa-bookmark"})],-1),R=(0,a._)("h2",{class:"category fs-3 d-inline-block text-primaryDark fw-bold mb-4"},"行程介紹",-1),A={class:"text-start"},K=["innerHTML"],O={class:"container py-5"},E=(0,a._)("h2",{class:"text-center fw-bolder mb-4"},"更多行程選擇",-1),G={class:"px-0","data-aos":"fade","data-aos-duration":"1000"};function J(t,s,e,J,Q,X){const tt=(0,a.up)("LoadingView"),st=(0,a.up)("router-link"),et=(0,a.up)("font-awesome-icon"),at=(0,a.up)("Skeletor"),it=(0,a.up)("ProdSwiper");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(tt,{class:"loading",active:Q.isLoading},{default:(0,a.w5)((()=>[o])),_:1},8,["active"]),(0,a._)("div",n,[c,(0,a._)("div",l,[(0,a._)("div",d,[(0,a._)("nav",u,[(0,a._)("ol",p,[(0,a._)("li",m,[(0,a.Wm)(st,{class:"text-dark fs-6 fs-md-6",to:"/"},{default:(0,a.w5)((()=>[b])),_:1})]),(0,a._)("li",h,[(0,a._)("a",{href:"#",class:"text-dark fs-6 fs-md-6",to:"/list",onClick:s[0]||(s[0]=(0,i.iM)(((...t)=>X.transferCate&&X.transferCate(...t)),["prevent"]))},"行程列表")]),(0,a._)("li",g,[(0,a._)("span",w,(0,r.zw)(Q.product.title),1)])])]),(0,a._)("div",f,[(0,a._)("div",_,[(0,a._)("img",{class:"w-100",style:{height:"450px",width:"450px"},src:Q.product.imageUrl,alt:Q.product.title},null,8,y)]),(0,a._)("div",v,[(0,a._)("div",k,[(0,a._)("div",x,[(0,a._)("p",L,(0,r.zw)(Q.product.category),1),(0,a._)("span",q,[t.favoriteId.includes(Q.product.id)?((0,a.wg)(),(0,a.j4)(et,{key:0,icon:["fa","heart"],class:"fs-3 text-danger","data-bs-toggle":"tooltip","data-bs-placement":"buttom",title:"取消收藏",onClick:s[1]||(s[1]=(0,i.iM)((s=>t.toggleFavorite(Q.product)),["prevent"]))})):((0,a.wg)(),(0,a.j4)(et,{key:1,icon:["far","heart"],class:"fs-3 text-danger","data-bs-toggle":"tooltip","data-bs-placement":"buttom",title:"加入收藏",onClick:s[2]||(s[2]=(0,i.iM)((s=>t.toggleFavorite(Q.product)),["prevent"]))}))])]),(0,a._)("h2",C,(0,r.zw)(Q.product.title),1)]),(0,a._)("div",j,[(0,a._)("p",{innerHTML:Q.product.content},null,8,P)]),(0,a._)("div",T,[(0,a._)("ul",$,[(0,a._)("li",null,[M,z,Q.isLoading?((0,a.wg)(),(0,a.j4)(at,{key:0,width:"25%"})):(0,a.kq)("",!0),(0,a.Uk)(" "+(0,r.zw)(Q.product.start_city),1)]),U,H,(0,a._)("li",null,[S,Q.isLoading?((0,a.wg)(),(0,a.j4)(at,{key:0,width:"25%"})):(0,a.kq)("",!0),(0,a.Uk)(" "+(0,r.zw)(Q.product.team_qty)+" 人成行 ",1)])])]),(0,a._)("div",W,[(0,a._)("span",V,"原價NT$ "+(0,r.zw)(Q.product.origin_price)+"/人",1),(0,a._)("span",Z,"現在只要NT$ "+(0,r.zw)(Q.product.price)+"/人",1)]),(0,a._)("div",D,[(0,a._)("div",{class:"d-flex align-items-center flex-fill me-1",style:(0,r.j5)({cursor:1===Q.quantity?"not-allowed":"pointer"})},[(0,a._)("button",{type:"button",class:"btn btn-primaryLight rounded-0 box-shadow-none",disabled:1===Q.quantity,onClick:s[3]||(s[3]=t=>Q.quantity--)}," - ",8,I),(0,a._)("label",B,[(0,a.wy)((0,a._)("input",{type:"number",id:"qty",class:"form-control text-center rounded-0",min:"1",max:"99","onUpdate:modelValue":s[4]||(s[4]=t=>Q.quantity=t)},null,512),[[i.nr,Q.quantity,void 0,{number:!0}]])]),(0,a._)("button",{type:"button",class:"btn btn-primaryLight rounded-0 box-shadow-none",onClick:s[5]||(s[5]=t=>Q.quantity++)},"+")],4),(0,a._)("button",{type:"button",class:"btn btn-primaryLight flex-fill ms-1 rounded-0",onClick:s[6]||(s[6]=s=>t.addToCart(Q.product,Q.quantity))},[(0,a.Wm)(et,{icon:["fas","cart-plus"],class:"px-1"}),N])])])])]),(0,a._)("div",Y,[F,R,(0,a._)("div",A,[(0,a._)("p",{innerHTML:Q.product.description},null,8,K)])])]),(0,a._)("section",null,[(0,a._)("div",O,[E,(0,a._)("div",G,[(0,a.Wm)(it)])])])])],64)}var Q=e(206);function X(t,s,e,i,r,o){const n=(0,a.up)("Loading"),c=(0,a.up)("ProdCard"),l=(0,a.up)("router-link"),d=(0,a.up)("swiper-slide"),u=(0,a.up)("swiper");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(n,{active:r.isLoading},null,8,["active"]),(0,a.Wm)(u,{class:"px-3 py-2",modules:r.modules,"slides-per-view":1,"space-between":20,breakpoints:{576:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:20},992:{slidesPerView:3,spaceBetween:20},1200:{slidesPerView:4,spaceBetween:20}},autoplay:{delay:3e3,disableOnInteraction:!1}},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.products,(t=>((0,a.wg)(),(0,a.j4)(d,{key:t.id},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{to:`/product/${t.id}`},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{product:t},null,8,["product"])])),_:2},1032,["to"])])),_:2},1024)))),128))])),_:1},8,["modules"])],64)}var tt=e(1911),st=e(3181);const et={class:"custom-card card w-100 h-100 shadow-sm",style:{width:"18rem"}},at={class:"custom-img"},it=["src"],rt={class:"card-body p-3"},ot={class:"card-title fw-bolder mb-3"},nt=["innerHTML"],ct={class:"d-flex justify-content-between align-items-center"},lt={class:"text-gray text-decoration-line-through mb-0"},dt={class:"fs-5 fw-bolder mb-0"};function ut(t,s,e,i,o,n){return(0,a.wg)(),(0,a.iD)("div",et,[(0,a._)("div",at,[(0,a._)("img",{src:e.product.imageUrl,class:"card-img-top cover-fit",alt:"rot1"},null,8,it)]),(0,a._)("div",rt,[(0,a._)("h5",ot,(0,r.zw)(e.product.title),1),(0,a._)("p",{class:"card-text mb-2",style:{height:"1.5rem",overflow:"hidden"},innerHTML:e.product.content},null,8,nt),(0,a._)("div",ct,[(0,a._)("p",lt," NT$ "+(0,r.zw)(e.product.origin_price)+"/人 ",1),(0,a._)("p",dt,"NT$ "+(0,r.zw)(e.product.price)+"/人",1)])])])}var pt={data(){return{}},props:["product"]},mt=e(3744);const bt=(0,mt.Z)(pt,[["render",ut]]);var ht=bt,gt={components:{Swiper:st.tq,SwiperSlide:st.o5,ProdCard:ht},data(){return{isLoading:!1,products:[],modules:[tt.s5,tt.pt]}},inject:["mitt"],methods:{getProducts(){this.isLoading=!0,this.$http.get("https://vue3-course-api.hexschool.io/api/claire-api/products/all").then((t=>{this.isLoading=!1;const{products:s}=t.data;this.products=s,this.getRandom()}))},getRandom(){const t=[];for(let s=0;s<10;s+=1){const s=Math.floor(Math.random()*this.products.length);t.push(this.products[s]),this.products.splice(s,1)}this.products=t}},mounted(){this.getProducts()}};const wt=(0,mt.Z)(gt,[["render",X]]);var ft=wt,_t=e(8262),yt=e(4677),vt=e(6294),kt={mixins:[Q.Z],components:{ProdSwiper:ft},data(){return{product:[],isLoading:!1,quantity:1}},watch:{product:{},quantity(){this.quantity<=0&&(this.quantity=1)},$route(){void 0!==this.$route.params.id&&this.getProduct()}},computed:{...(0,_t.rn)(yt.Z,["cartData"]),...(0,_t.rn)(vt.Z,["isLoadingItem"])},methods:{...(0,_t.nv)(yt.Z,["addToCart"]),getProduct(){const t=this.$route.params.id;this.isLoading=!0,this.$http.get(`https://vue3-course-api.hexschool.io/api/claire-api/product/${t}`).then((t=>{this.product=t.data.product,this.isLoading=!1,this.resentlyViewed(this.product)})).catch((()=>{this.isLoading=!1}))},transferCate(){this.$router.push("/list"),localStorage.setItem("category",this.product.category),localStorage.setItem("isActive",this.product.category)}},mounted(){this.getProduct()}};const xt=(0,mt.Z)(kt,[["render",J]]);var Lt=xt}}]);
//# sourceMappingURL=725.8a142a8f.js.map