"use strict";(self["webpackChunkebookstore"]=self["webpackChunkebookstore"]||[]).push([[367],{7367:function(t,e,s){s.r(e),s.d(e,{default:function(){return at}});s(6699);var a=s(6252),i=s(3577),o=s(9963);const c=(0,a._)("div",{class:"spinner-border text-primary m-5",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1),n={class:"list-base section_category bg-light"},l={class:"container"},r={class:"row"},d={class:"col-lg-2 mb-3"},p={class:"position-sticky"},g={class:"accordion",id:"accordion"},u={class:"accordion-item border-0"},h=(0,a._)("h2",{class:"accordion-header",id:"panelsStayOpen-headingOne"},[(0,a._)("button",{class:"accordion-button text-white bg-primaryDark fs-4 fs-md-3 fw-bold px-3 py-4 px-md-4 py-md-4",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"},"洲別")],-1),y={id:"panelsStayOpen-collapseOne",class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-headingOne"},v={class:"accordion-body p-0"},m={class:"list-group text-center"},b=["onClick"],_={class:"col-lg-10 section_products bg-light"},w={class:"row row-cols-1 row-cols-md-2 row-cols-xxl-3"},f={class:"card h-100 shadow-sm"},k={class:"badge badge-pill badge-secondaryLight"},x=["onClick"],C=["src"],L={class:"card-body"},O={class:"card-text"},$={class:"d-flex justify-content-betwen"},D={class:"card-title"},M={class:"px-1 position-absolute top-0 end-0 mt-2 me-2",style:{cursor:"pointer"}},T=["innerHTML"],Z={class:"prices d-flex justify-content-between mb-auto"},z={class:"text-decoration-line-through text-gray me-5"},A={class:"fs-5 fw-bolder"},S=["onClick"],j=(0,a._)("span",null,[(0,a._)("i",{class:"fas fa-shopping-cart"})],-1),H=(0,a.Uk)(" 加入購物車 "),P=[j,H],W=(0,a._)("div",{class:"bg-light",style:{height:"40px"}},null,-1);function Y(t,e,s,j,H,Y){const B=(0,a.up)("LoadingView"),F=(0,a.up)("ListBanner"),I=(0,a.up)("router-link"),K=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(B,{class:"loading",active:H.isLoading},{default:(0,a.w5)((()=>[c])),_:1},8,["active"]),(0,a.Wm)(F,{title:H.title},null,8,["title"]),(0,a._)("section",n,[(0,a._)("div",l,[(0,a._)("div",r,[(0,a._)("div",d,[(0,a._)("div",p,[(0,a._)("div",g,[(0,a._)("div",u,[h,(0,a._)("div",y,[(0,a._)("div",v,[(0,a._)("div",m,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(H.categories,(t=>((0,a.wg)(),(0,a.iD)("button",{type:"button",class:(0,i.C_)(["list-group-item list-group-item-action fw-bolder py-3 fs-5 rounded-0",H.isActive===t.category?"active":""]),key:t.category,onClick:e=>Y.filterCategory(t.category)},(0,i.zw)(t.name),11,b)))),128))])])])])])])]),(0,a._)("div",_,[(0,a._)("div",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(H.products,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"col mb-4"},[(0,a._)("div",f,[(0,a._)("span",k,(0,i.zw)(e.category),1),(0,a._)("div",{class:"img-wrap position-relative ps-0",onClick:(0,o.iM)((t=>Y.getProducts(e.category)),["prevent"])},[(0,a.Wm)(I,{to:`/product/${e.id}`},{default:(0,a.w5)((()=>[(0,a._)("img",{src:e.imageUrl,class:"card-img-top w-100"},null,8,C)])),_:2},1032,["to"])],8,x),(0,a._)("div",L,[(0,a._)("div",O,[(0,a._)("div",$,[(0,a._)("h5",D,(0,i.zw)(e.title),1),(0,a._)("span",M,[t.favoriteId.includes(e.id)?((0,a.wg)(),(0,a.j4)(K,{key:0,icon:["fa","heart"],class:"fs-4 text-danger","data-bs-toggle":"tooltip","data-bs-placement":"buttom",title:"取消收藏",onClick:(0,o.iM)((s=>t.toggleFavorite(e)),["prevent"])},null,8,["onClick"])):((0,a.wg)(),(0,a.j4)(K,{key:1,icon:["far","heart"],class:"fs-4 text-danger","data-bs-toggle":"tooltip","data-bs-placement":"buttom",title:"加入收藏",onClick:(0,o.iM)((s=>t.toggleFavorite(e)),["prevent"])},null,8,["onClick"]))])]),(0,a._)("p",{class:"card-content",innerHTML:e.content},null,8,T)]),(0,a._)("div",null,[(0,a._)("p",Z,[(0,a._)("span",z,"NT$ "+(0,i.zw)(e.origin_price)+"/人",1),(0,a._)("span",A,"NT$ "+(0,i.zw)(e.price)+"/人",1)])])]),(0,a._)("button",{type:"button",class:"btn btn-secondary btn-addTocart",onClick:(0,o.iM)((s=>t.addToCart(e)),["prevent","stop"])},P,8,S)])])))),128))])])])])]),W],64)}var B=s(206);const F={class:"list-banner"},I={class:"title"},K={class:"container"},N={class:"row justify-content-end"},U={class:"col-md-6"},V={class:"text-white"};function q(t,e,s,o,c,n){return(0,a.wg)(),(0,a.iD)("section",F,[(0,a._)("div",I,[(0,a._)("div",K,[(0,a._)("div",N,[(0,a._)("div",U,[(0,a._)("h2",V,(0,i.zw)(s.title),1)])])])])])}var E={props:{title:{type:String,default:""}},data(){return{}}},G=s(3744);const J=(0,G.Z)(E,[["render",q]]);var Q=J,R=s(8262),X=s(4677),tt=s(6294),et={components:{ListBanner:Q},data(){return{products:[],isActive:"",isLoading:"",title:"行程列表",categories:[{category:"",name:"全部"},{category:"亞洲",name:"亞洲"},{category:"歐洲",name:"歐洲"},{category:"非洲",name:"非洲"},{category:"澳洲",name:"澳洲"},{category:"美洲",name:"美洲"}]}},mixins:[B.Z],created(){const{pathCategory:t}=this.$route.params;t&&(this.category=this.$route.params.category,this.isActive=this.category),this.getProducts(t)},methods:{...(0,R.nv)(X.Z,["addToCart"]),...(0,R.nv)(tt.Z,["pushMsg"]),filterCategory(t){this.category=t,this.getProducts(t)},getProducts(t){this.isActive="";let e="https://vue3-course-api.hexschool.io/api/claire-api/products/all";t&&(e=`https://vue3-course-api.hexschool.io/v2/api/claire-api/products?category=${t}`,this.isActive=t),this.isLoading=!0,this.$http.get(e).then((t=>{this.products=t.data.products,this.isLoading=!1})).catch((()=>{this.isLoading=!1}))},computed:{...(0,R.rn)(X.Z,["cartData"]),...(0,R.rn)(tt.Z,["isLoadingItem"])},mounted(){void 0!==this.$route.params.category&&(this.category=this.$route.params.category,this.isActive=this.category),this.getProducts()}}};const st=(0,G.Z)(et,[["render",Y]]);var at=st}}]);
//# sourceMappingURL=367.c823f8b7.js.map